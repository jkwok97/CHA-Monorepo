<p-table
  [responsiveLayout]="'scroll'"
  [value]="statsForTable"
  [columns]="playerTableColumns"
  styleClass="p-datatable-sm p-datatable-striped"
  class="table"
  [rows]="rows"
  [showCurrentPageReport]="true"
  [rowsPerPageOptions]="[10, 20, 25, 50, 100]"
  [paginator]="true"
  currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
  [totalRecords]="totalRecords"
  [sortField]="sortField"
  [sortOrder]="-1"
>
  <ng-template pTemplate="header" let-columns let-data>
    <tr>
      <th
        *ngFor="let column of playerTableColumns"
        [pSortableColumn]="column.field"
      >
        {{ column.header }}
        <p-sortIcon [field]="column.field"></p-sortIcon>
      </th>
    </tr>
  </ng-template>

  <ng-template
    pTemplate="body"
    let-data
    let-columns="columns"
    let-rowIndex="rowIndex"
  >
    <tr>
      <td *ngFor="let column of playerTableColumns">
        <span class="p-column-title">{{ column.header }}</span>
        <div class="table-body-cell">
          <ng-container *ngIf="column.field === 'team'">
            <img [src]="data.teamLogo" height="30px" />
          </ng-container>
          <ng-container *ngIf="column.field === 'name'">
            {{ data.player_id.firstname + ' ' + data.player_id.lastname }}
          </ng-container>
          <ng-container *ngIf="column.field === 'points_per_sixty'">
            {{ ((data.points / data.minutes_played) * 100).toFixed(2) }}
          </ng-container>
          <ng-container>{{
            column.field !== 'chaTeam' ? data[column.field] : ''
          }}</ng-container>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>
