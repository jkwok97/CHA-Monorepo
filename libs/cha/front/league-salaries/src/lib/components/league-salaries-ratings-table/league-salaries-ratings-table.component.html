<p-table
  [value]="salaries"
  dataKey="id"
  responsiveLayout="scroll"
  [rows]="rows"
  [showCurrentPageReport]="true"
  [rowsPerPageOptions]="[10, 20, 25, 50, 100]"
  [paginator]="true"
  currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
  [totalRecords]="totalRecords"
>
  <ng-template pTemplate="header">
    <tr>
      <th style="width: 3rem"></th>
      <th pSortableColumn="team">
        Team <p-sortIcon field="team"></p-sortIcon>
      </th>
      <th pSortableColumn="player">
        Player <p-sortIcon field="player"></p-sortIcon>
      </th>
      <th pSortableColumn="21-22">
        21-22 <p-sortIcon field="21-22"></p-sortIcon>
      </th>
      <th pSortableColumn="22-23">
        22-23 <p-sortIcon field="22-23"></p-sortIcon>
      </th>
      <th pSortableColumn="23-24">
        23-24 <p-sortIcon field="23-24"></p-sortIcon>
      </th>
      <th pSortableColumn="24-25">
        24-25 <p-sortIcon field="24-25"></p-sortIcon>
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-salary let-expanded="expanded">
    <tr>
      <td>
        <button
          type="button"
          pButton
          pRipple
          [pRowToggler]="salary"
          class="p-button-text p-button-rounded p-button-plain"
          [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"
        ></button>
      </td>
      <td>
        <div class="flex align-items-center column-gap-2">
          <img [src]="getString(salary.teamInfo.teamlogo)" height="30px" />
          <div *ngIf="!isMobile">
            {{ salary.teamInfo.city }} {{ salary.teamInfo.nickname }}
          </div>
        </div>
      </td>
      <td>{{ salary.player_id.firstname }} {{ salary.player_id.lastname }}</td>
      <td>{{ salary.salaries?.season_2022 }}</td>
      <td>{{ salary.salaries?.season_2023 }}</td>
      <td>{{ salary.salaries?.season_2024 }}</td>
      <td>{{ salary.salaries?.season_2025 }}</td>
    </tr>
  </ng-template>
  <ng-template pTemplate="rowexpansion" let-salary>
    <tr>
      <td colspan="12" class="pl-3 pt-0 pb-0 pr-3">
        <ng-container
          *ngIf="type === 'players'; then playerBody; else goalieBody"
        ></ng-container>
        <ng-template #playerBody>
          <div class="flex column-gap-2 h-full">
            <cha-front-league-salaries-ratings-badge
              [title]="'C'"
              [rating]="salary.ratings.c_rate"
            ></cha-front-league-salaries-ratings-badge>
            <cha-front-league-salaries-ratings-badge
              [title]="'LW'"
              [rating]="salary.ratings.l_rate"
            ></cha-front-league-salaries-ratings-badge>
            <cha-front-league-salaries-ratings-badge
              [title]="'RW'"
              [rating]="salary.ratings.r_rate"
            ></cha-front-league-salaries-ratings-badge>
            <cha-front-league-salaries-ratings-badge
              [title]="'LD'"
              [rating]="salary.ratings.ld_rate"
            ></cha-front-league-salaries-ratings-badge>
            <cha-front-league-salaries-ratings-badge
              [title]="'RD'"
              [rating]="salary.ratings.rd_rate"
            ></cha-front-league-salaries-ratings-badge>
          </div>
        </ng-template>
        <ng-template #goalieBody>
          <div class="p-1"></div>
        </ng-template>
      </td>
    </tr>
  </ng-template>
</p-table>
