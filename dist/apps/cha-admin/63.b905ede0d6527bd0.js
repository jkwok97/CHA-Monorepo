"use strict";(self.webpackChunkcha_admin=self.webpackChunkcha_admin||[]).push([[63],{3063:(Be,Z,s)=>{s.r(Z),s.d(Z,{ChaAdminLeagueConferencesModule:()=>Ke});var m=s(6895),h=s(433),l=s(8776),r=s(9653),$=s(4057),M=s(644),E=s(8235),L=s(2336),G=s(1740),_=s(5593),J=s(3214),K=s(2675),B=s(1624),N=s(5199),D=s(9180),z=s(5621),j=s(7240),F=s(6129),d=s(4004),T=s(262),S=s(9646),x=s(8505);const f="[LEAGUE CONFERENCES]",i={getConferences:(0,r.PH)(`${f} Get Conferences`),getConferencesSuccess:(0,r.PH)(`${f} Get Conferences Success`,(0,r.Ky)()),addConference:(0,r.PH)(`${f} Add Conference`,(0,r.Ky)()),addConferenceSuccess:(0,r.PH)(`${f} Add Conference Success`,(0,r.Ky)()),editConference:(0,r.PH)(`${f} Edit Conference`,(0,r.Ky)()),editConferenceSuccess:(0,r.PH)(`${f} Edit Conference Success`,(0,r.Ky)()),deleteConference:(0,r.PH)(`${f} Delete Conference`,(0,r.Ky)()),deleteConferenceSuccess:(0,r.PH)(`${f} Delete Conference Success`,(0,r.Ky)()),error:(0,r.PH)(`${f} Error`)},Q={conferences:[],loading:!1,loaded:!1,saving:!1,saved:!1},ce=(0,r.Lq)(Q,(0,r.on)(i.getConferences,n=>({...n,loading:!0,loaded:!1})),(0,r.on)(i.addConference,i.editConference,i.deleteConference,n=>({...n,saving:!0,saved:!1})),(0,r.on)(i.getConferencesSuccess,(n,o)=>({...n,conferences:o.conferences,loading:!1,loaded:!0})),(0,r.on)(i.addConferenceSuccess,i.editConferenceSuccess,i.deleteConferenceSuccess,(n,o)=>({...n,saving:!1,saved:!0})),(0,r.on)(i.error,n=>Q));function se(n,o){return ce(n,o)}const b=(0,r.ZF)("league-conferences"),de=(0,r.P1)(b,n=>n.loading),v={selectLoaded:(0,r.P1)(b,n=>n.loaded),selectLoading:de,selectSaving:(0,r.P1)(b,n=>n.saving),selectSaved:(0,r.P1)(b,n=>n.saved),selectConferences:(0,r.P1)(b,n=>n.conferences)};var e=s(4650);let y=(()=>{class n{constructor(t){this.store=t,this.isLoading$=this.store.select(v.selectLoading),this.isLoaded$=this.store.select(v.selectLoaded),this.isSaving$=this.store.select(v.selectSaving),this.isSaved$=this.store.select(v.selectSaved),this.conferences$=this.store.select(v.selectConferences)}getConferences(){this.store.dispatch(i.getConferences())}addConference(t){this.store.dispatch(i.addConference({conference:t}))}editConference(t){this.store.dispatch(i.editConference({conference:t}))}deleteConference(t){this.store.dispatch(i.deleteConference({conferenceId:t}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(r.yh))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var Ce=s(529);let he=(()=>{class n{constructor(t,c){this._http=t,this.apiUrl=c}getConferences(){return this._http.get(`${this.apiUrl}/conferences`).pipe((0,d.U)(t=>t))}addConferences(t){return this._http.post(`${this.apiUrl}/conferences/add`,t).pipe((0,d.U)(a=>a))}editConferences(t){return this._http.put(`${this.apiUrl}/conferences/${t.id}`,t).pipe((0,d.U)(c=>c))}deleteConferences(t){return this._http.delete(`${this.apiUrl}/conferences/${t}`).pipe((0,d.U)(c=>c))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ce.eN),e.LFG("apiUrl"))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var R=s(805);let U=(()=>{class n{constructor(t,c,a,u){this.actions$=t,this.leagueConferencesService=c,this.leagueConferenceFacade=a,this.messageService=u,this.getConferences$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(i.getConferences),(0,F.z)(C=>this.leagueConferencesService.getConferences().pipe((0,d.U)(g=>i.getConferencesSuccess({conferences:g})),(0,T.K)(()=>(0,S.of)(i.error())))))),this.addConference$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(i.addConference),(0,F.z)(C=>this.leagueConferencesService.addConferences(C.conference).pipe((0,d.U)(g=>i.addConferenceSuccess({conference:g})),(0,T.K)(()=>(0,S.of)(i.error())))))),this.addConferenceSuccess$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(i.addConferenceSuccess),(0,x.b)(()=>{this.messageService.add({severity:"success",summary:"Add Conference",detail:"Conference has been added"}),this.leagueConferenceFacade.getConferences()})),{dispatch:!1}),this.editConference$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(i.editConference),(0,F.z)(C=>this.leagueConferencesService.editConferences(C.conference).pipe((0,d.U)(g=>i.editConferenceSuccess({conference:g})),(0,T.K)(()=>(0,S.of)(i.error())))))),this.editConferenceSuccess$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(i.editConferenceSuccess),(0,x.b)(()=>{this.messageService.add({severity:"success",summary:"Edit Conference",detail:"Conference has been updated"}),this.leagueConferenceFacade.getConferences()})),{dispatch:!1}),this.deleteConference$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(i.deleteConference),(0,F.z)(C=>this.leagueConferencesService.deleteConferences(C.conferenceId).pipe((0,d.U)(g=>i.deleteConferenceSuccess({conference:g})),(0,T.K)(()=>(0,S.of)(i.error())))))),this.deleteConferenceSuccess$=(0,l.GW)(()=>this.actions$.pipe((0,l.l4)(i.deleteConferenceSuccess),(0,x.b)(()=>{this.messageService.add({severity:"success",summary:"Delete Conference",detail:"Conference has been removed"}),this.leagueConferenceFacade.getConferences()})),{dispatch:!1})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(l.eX),e.LFG(he),e.LFG(y),e.LFG(R.ez))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var w=s(1779),be=s(8417),ve=s(590),I=s(1889),P=s(4984),ye=s(4268),Y=s(655),A=s(9933),O=s(9300);let H=(()=>{class n{constructor(){this.form=new h.nJ({}),this.model={},this.options={}}ngOnInit(){this.conference&&this.patchForm(),this.createFields()}createFields(){this.fields=[{fieldGroupClassName:"w-full flex flex-wrap column-gap-2 row-gap-3",fieldGroup:[this.isActiveField()]},{fieldGroupClassName:"w-full flex flex-wrap column-gap-2 row-gap-2",fieldGroup:[this.nameField()]}]}patchForm(){this.model={isactive:this.conference?.isactive,conferencename:this.conference?.conferencename}}isActiveField(){return{key:"isactive",className:"w-5",type:"checkbox",templateOptions:{label:"Active Conference"}}}nameField(){return{key:"conferencename",className:"w-full md:w-3",type:"text-input",templateOptions:{label:"Conference Name",placeholder:"Enter name",required:!0},validation:{messages:{required:()=>"name is required"}}}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cha-admin-league-conferences-edit-form"]],inputs:{conference:"conference"},decls:2,vars:5,consts:[[1,"w-full",3,"formGroup"],[3,"model","fields","options","form"]],template:function(t,c){1&t&&(e.TgZ(0,"form",0),e._UZ(1,"formly-form",1),e.qZA()),2&t&&(e.Q6J("formGroup",c.form),e.xp6(1),e.Q6J("model",c.model)("fields",c.fields)("options",c.options)("form",c.form))},dependencies:[h._Y,h.JL,h.sg,$.T7],encapsulation:2,changeDetection:0}),n})();var Le=s(3186),Fe=s(1185);function Te(n,o){if(1&n&&(e.TgZ(0,"perfect-scrollbar"),e._UZ(1,"cha-admin-league-conferences-edit-form",9),e.qZA()),2&n){const t=e.oxw();e.Akn(t.panelStyle),e.xp6(1),e.Q6J("conference",t.conference)}}function Se(n,o){if(1&n&&e._UZ(0,"cha-admin-league-conferences-edit-form",9),2&n){const t=e.oxw();e.Q6J("conference",t.conference)}}function _e(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onDelete())}),e.qZA()}}let p=class{constructor(o){this.leagueConferencesFacade=o,this.closeSidebar=new e.vpe,this.editMode=!1,this.panelStyle={width:"100%",height:"65vh"}}ngOnInit(){this.editMode=!!this.conference}onCancel(){this.closeSidebar.emit(!0)}onSave(){const o={...this.conferenceFormRef?.form.value,isactive:!!this.conferenceFormRef?.form.value.isactive&&this.conferenceFormRef?.form.value.isactive,id:this.conference?this.conference.id:null};this.editMode?this.conference&&this.leagueConferencesFacade.editConference(o):this.leagueConferencesFacade.addConference(o),this.leagueConferencesFacade.isSaving$.pipe((0,A.t)(this),(0,O.h)(t=>!t)).subscribe(()=>this.closeSidebar.emit(!0))}onDelete(){this.conference&&(this.leagueConferencesFacade.deleteConference(this.conference.id),this.leagueConferencesFacade.isSaving$.pipe((0,A.t)(this),(0,O.h)(o=>!o)).subscribe(()=>this.closeSidebar.emit(!0)))}};p.\u0275fac=function(o){return new(o||p)(e.Y36(y))},p.\u0275cmp=e.Xpm({type:p,selectors:[["cha-admin-league-conferences-edit"]],viewQuery:function(o,t){if(1&o&&e.Gf(H,5),2&o){let c;e.iGM(c=e.CRH())&&(t.conferenceFormRef=c.first)}},inputs:{conference:"conference",isMobile:"isMobile"},outputs:{closeSidebar:"closeSidebar"},decls:12,vars:6,consts:[[2,"background-color","var(--background-100)"],[1,"text-lg","font-light","text-center"],[3,"style",4,"ngIf"],[3,"conference",4,"ngIf"],[1,"flex","justify-content-between"],[1,"flex","column-gap-1"],["pButton","","pRipple","","type","button",1,"p-button-raised",3,"label","disabled","click"],["pButton","","pRipple","","type","button","label","Cancel",1,"p-button-raised","p-button-warning",3,"click"],["pButton","","pRipple","","type","button","label","Delete","class","p-button-raised p-button-danger",3,"click",4,"ngIf"],[3,"conference"],["pButton","","pRipple","","type","button","label","Delete",1,"p-button-raised","p-button-danger",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"blade-card",0)(1,"blade-card-header",1),e._uU(2),e.qZA(),e.TgZ(3,"blade-card-body"),e.YNc(4,Te,2,3,"perfect-scrollbar",2),e.YNc(5,Se,1,1,"cha-admin-league-conferences-edit-form",3),e.qZA(),e.TgZ(6,"blade-card-footer")(7,"div",4)(8,"div",5)(9,"button",6),e.NdJ("click",function(){return t.onSave()}),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return t.onCancel()}),e.qZA()(),e.YNc(11,_e,1,0,"button",8),e.qZA()()()),2&o&&(e.xp6(2),e.hij(" ",t.editMode?"Edit Conference":"Add Conference"," "),e.xp6(2),e.Q6J("ngIf",t.isMobile),e.xp6(1),e.Q6J("ngIf",!t.isMobile),e.xp6(4),e.Q6J("label",t.editMode?"Save Conference":"Add Conference")("disabled",(null==t.conferenceFormRef||null==t.conferenceFormRef.form?null:t.conferenceFormRef.form.invalid)||!(null!=t.conferenceFormRef&&null!=t.conferenceFormRef.form&&t.conferenceFormRef.form.dirty)),e.xp6(2),e.Q6J("ngIf",t.editMode))},dependencies:[m.O5,M.Vv,_.Hq,I.A,P.y,Le.x,Fe.n,H],encapsulation:2,changeDetection:0}),p=(0,Y.gn)([(0,A.c)(),(0,Y.w6)("design:paramtypes",[y])],p);const xe=["dt"];function Ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",6)(1,"span",7),e._UZ(2,"i",8),e.TgZ(3,"input",9),e.NdJ("input",function(a){e.CHM(t);const u=e.oxw();return e.KtG(u.applyFilterGlobal(a,"contains"))}),e.qZA()(),e.TgZ(4,"button",10),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onAddClick())}),e.qZA()()}}function Ze(n,o){if(1&n&&(e.TgZ(0,"th",12),e._uU(1),e._UZ(2,"p-sortIcon",13),e.qZA()),2&n){const t=o.$implicit;e.Q6J("hidden",!t.visible)("pSortableColumn",t.field),e.xp6(1),e.hij(" ",t.header," "),e.xp6(1),e.Q6J("field",t.field)}}function $e(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Ze,3,4,"th",11),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.tableColumns)}}function Me(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit,c=e.oxw().$implicit;e.xp6(1),e.hij(" ",c[t.field]," ")}}function Ee(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",19),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,u=e.oxw();return e.KtG(u.onClick(a))}),e.qZA(),e.BQk()}}function Ge(n,o){if(1&n&&(e.TgZ(0,"td",15)(1,"span",16),e._uU(2),e.qZA(),e.TgZ(3,"div",17),e.YNc(4,Me,2,1,"ng-container",18),e.YNc(5,Ee,2,0,"ng-container",18),e.qZA()()),2&n){const t=o.$implicit;e.Q6J("hidden",!t.visible),e.xp6(2),e.Oqu(t.header),e.xp6(2),e.Q6J("ngIf","action"!==t.field),e.xp6(1),e.Q6J("ngIf","action"===t.field)}}function Je(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Ge,6,4,"td",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.tableColumns)}}function Ne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-sidebar",20),e.NdJ("visibleChange",function(a){e.CHM(t);const u=e.oxw();return e.KtG(u.display=a)}),e.TgZ(1,"cha-admin-league-conferences-edit",21),e.NdJ("closeSidebar",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onClose())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("visible",t.display)("fullScreen",!0)("showCloseIcon",!1)("dismissible",!1),e.xp6(1),e.Q6J("conference",t.conference)("isMobile",t.isMobile)}}const Qe=function(){return[10,20,25,50,100]},Re=function(){return["player","award","team","user","cha_season"]};let Ue=(()=>{class n{constructor(){this.tableColumns=[{field:"id",header:"Conference Id",visible:!0},{field:"conferencename",header:"Name",visible:!0},{field:"isactive",header:"Active",visible:!0},{field:"action",header:"Edit",visible:!0}],this.first=0,this.rows=20,this.totalRecords=0,this.sortField="isactive",this.display=!1}ngOnInit(){this.conferencesForTable=this.mapItems(this.conferences)}applyFilterGlobal(t,c){this.dt?.filterGlobal(t.target.value,c)}mapItems(t){return t.map(c=>({...c}))}onClick(t){this.conference=t,this.display=!0}onAddClick(){this.conference=null,this.display=!0}onClose(){this.display=!1,this.conference=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cha-admin-league-conferences-table"]],viewQuery:function(t,c){if(1&t&&e.Gf(xe,5),2&t){let a;e.iGM(a=e.CRH())&&(c.dt=a.first)}},inputs:{isMobile:"isMobile",conferences:"conferences"},decls:6,vars:15,consts:[["styleClass","p-datatable-sm p-datatable-striped","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",1,"table",3,"responsiveLayout","value","columns","rows","showCurrentPageReport","rowsPerPageOptions","paginator","totalRecords","sortField","sortOrder","filterDelay","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","fullScreen","showCloseIcon","dismissible","visibleChange",4,"ngIf"],[1,"flex","flex-wrap","justify-content-between"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search",3,"input"],["pButton","","type","button","icon","pi pi-plus",1,"p-button-rounded","p-button-primary",3,"click"],[3,"hidden","pSortableColumn",4,"ngFor","ngForOf"],[3,"hidden","pSortableColumn"],[3,"field"],[3,"hidden",4,"ngFor","ngForOf"],[3,"hidden"],[1,"p-column-title"],[1,"table-body-cell"],[4,"ngIf"],["pButton","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-primary",3,"click"],[3,"visible","fullScreen","showCloseIcon","dismissible","visibleChange"],[3,"conference","isMobile","closeSidebar"]],template:function(t,c){1&t&&(e.TgZ(0,"p-table",0,1),e.YNc(2,Ae,5,0,"ng-template",2),e.YNc(3,$e,2,1,"ng-template",3),e.YNc(4,Je,2,1,"ng-template",4),e.qZA(),e.YNc(5,Ne,2,6,"p-sidebar",5)),2&t&&(e.Q6J("responsiveLayout","stack")("value",c.conferencesForTable)("columns",c.tableColumns)("rows",c.rows)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(13,Qe))("paginator",!0)("totalRecords",c.totalRecords)("sortField",c.sortField)("sortOrder",-1)("filterDelay",0)("globalFilterFields",e.DdM(14,Re)),e.xp6(5),e.Q6J("ngIf",c.display))},dependencies:[m.sg,m.O5,L.iA,R.jx,L.lQ,L.fz,G.o,_.Hq,J.Y,p],encapsulation:2,changeDetection:0}),n})();const we=function(){return{height:"6px"}};function Ie(n,o){1&n&&e._UZ(0,"p-progressBar",4),2&n&&e.Akn(e.DdM(2,we))}function Pe(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"cha-admin-league-conferences-table",5),e.BQk()),2&n){const t=o.ngIf,c=e.oxw(2);e.xp6(1),e.Q6J("isMobile",c.isMobile)("conferences",t)}}function Ye(n,o){if(1&n&&(e.TgZ(0,"blade-card")(1,"blade-card-body"),e.YNc(2,Pe,2,2,"ng-container",3),e.ALo(3,"async"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,t.conferences$))}}const Oe=[{path:"",component:(()=>{class n{constructor(t,c){this.leagueConferencesFacade=t,this.displayFacade=c,this.isLoaded$=this.leagueConferencesFacade.isLoaded$,this.isLoading$=this.leagueConferencesFacade.isLoading$,this.conferences$=this.leagueConferencesFacade.conferences$,this.displayFacade.isMobile$.pipe((0,ve.P)()).subscribe(a=>{this.isMobile=a}),this.leagueConferencesFacade.getConferences()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y),e.Y36(be.pC))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cha-admin-league-conferences"]],decls:10,vars:6,consts:[[1,"pt-2"],[1,"text-lg","text-center",2,"font-weight","100"],["mode","indeterminate",3,"style",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],[3,"isMobile","conferences"]],template:function(t,c){1&t&&(e.TgZ(0,"blade-layout-feature-content")(1,"div")(2,"div",0)(3,"div",1),e._uU(4," League Conferences "),e.qZA()(),e._UZ(5,"blade-divider"),e.YNc(6,Ie,1,3,"p-progressBar",2),e.ALo(7,"async"),e.YNc(8,Ye,4,3,"blade-card",3),e.ALo(9,"async"),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngIf",e.lcZ(7,2,c.isLoading$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(9,4,c.isLoaded$)))},dependencies:[m.O5,E.k,I.A,P.y,ye.R,N.C,Ue,m.Ov],encapsulation:2,changeDetection:0}),n})()}];let He=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[w.Bz.forChild(Oe),w.Bz]}),n})(),Ke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[U,y],imports:[m.ez,h.UX,He,M.Xd,E.q,L.U$,G.j,_.hJ,J.l,K.N,B.E,N.C,r.Aw.forFeature("league-conferences",se),l.sQ.forFeature([U]),$.X0.forRoot({wrappers:[{name:"control-wrapper",component:j.t}],types:[{name:"text-input",component:z.T,wrappers:["control-wrapper"]},{name:"checkbox",component:D.C}]})]}),n})()}}]);