"use strict";(self.webpackChunkcha_front=self.webpackChunkcha_front||[]).push([[2613],{2613:(Re,$,l)=>{l.r($),l.d($,{ChaFrontStatsPlayerLeadersModule:()=>Ie});var g=l(177),L=l(7339),t=l(9310),f=l(1579),F=l(8067),S=l(5774),b=l(3784),I=l(3993),k=l(786),P=l(6354),R=l(9437),x=l(7673);const u="[LEAGUE STATS PLAYERS]",i={getLeaders:(0,t.VP)(`${u} Get League Leaders`,(0,t.xk)()),getLeadersSuccess:(0,t.VP)(`${u} Get League Leaders Success`,(0,t.xk)()),error:(0,t.VP)(`${u} Error`)};var e=l(4438),z=l(1562);let m=(()=>{class s{constructor(a,n){this._http=a,this.apiUrl=n}getAllPlayerLeaders(a,n,d){return this._http.get(`${this.apiUrl}/player-stats/leaders/${a}/${n}/${d}`).pipe((0,P.T)(p=>p))}static{this.\u0275fac=function(n){return new(n||s)(e.KVO(z.Qq),e.KVO("apiUrl"))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),G=(()=>{class s{constructor(a,n,d){this.actions$=a,this.leagueDataFacade=n,this.playerStatsService=d,this.getPlayerLeadersStats$=(0,L.EH)(()=>this.actions$.pipe((0,L.gp)(i.getLeaders),(0,I.E)(this.leagueDataFacade.leagueData$),(0,k.p)(([p,h])=>this.playerStatsService.getAllPlayerLeaders(h.offseason?h.prev_year:h.current_year,p.seasonType,h.min_games_stats).pipe((0,P.T)(ke=>i.getLeadersSuccess({leaders:ke})),(0,R.W)(()=>(0,x.of)(i.error()))))))}static{this.\u0275fac=function(n){return new(n||s)(e.KVO(L.En),e.KVO(b.A6),e.KVO(m))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();const M={leaders:null,loading:!1,loaded:!1},A=(0,t.vy)(M,(0,t.on)(i.getLeaders,s=>({...s,loading:!0,loaded:!1})),(0,t.on)(i.getLeadersSuccess,(s,c)=>({...s,leaders:c.leaders,loading:!1,loaded:!0})),(0,t.on)(i.error,s=>M));function O(s,c){return A(s,c)}const y=(0,t.UX)("league-stats-player"),B=(0,t.Mz)(y,s=>s.loading),V=(0,t.Mz)(y,s=>s.loaded),o=(0,t.Mz)(y,s=>s.leaders),U=(0,t.Mz)(o,s=>s?s.hits:[]),N=(0,t.Mz)(o,s=>s?s.currStreak:[]),H=(0,t.Mz)(o,s=>s?s.longStreak:[]),X=(0,t.Mz)(o,s=>s?s.bestPlusMinus:[]),K=(0,t.Mz)(o,s=>s?s.worstPlusMinus:[]),W=(0,t.Mz)(o,s=>s?s.minutes:[]),J=(0,t.Mz)(o,s=>s?s.penalties:[]),Q=(0,t.Mz)(o,s=>s?s.shots:[]),Z=(0,t.Mz)(o,s=>s?s.blockedShots:[]),_=(0,t.Mz)(o,s=>s?s.shGoals:[]),q=(0,t.Mz)(o,s=>s?s.ppGoals:[]),ee=(0,t.Mz)(o,s=>s?s.gwGoals:[]),se=(0,t.Mz)(o,s=>s?s.goals:[]),ae=(0,t.Mz)(o,s=>s?s.assists:[]),te=(0,t.Mz)(o,s=>s?s.rookies:[]),re=(0,t.Mz)(o,s=>s?s.defense:[]),oe=(0,t.Mz)(o,s=>s?s.defenseGoals:[]),ne=(0,t.Mz)(o,s=>s?s.points:[]),le=(0,t.Mz)(o,s=>s?s.pointsAboveExpected:[]),de=(0,t.Mz)(o,s=>s?s.pointsBelowExpected:[]),r={selectLoaded:V,selectLoading:B,selectAllLeaders:o,selectHitsLeaders:U,selectCurrentStreakLeaders:N,selectLongStreakLeaders:H,selectBestPlusMinusLeaders:X,selectMinutesLeaders:W,selectPenaltiesLeaders:J,selectShotsLeaders:Q,selectBlockedShotsLeaders:Z,selectShGoalsLeaders:_,selectPpGoalsLeaders:q,selectGoalsLeaders:se,selectAssistsLeaders:ae,selectRookiesLeaders:te,selectDefenseLeaders:re,selectPointsLeaders:ne,selectWorstPlusMinusLeaders:K,selectDefenseGoalLeaders:oe,selectGwGoalsLeaders:ee,selectRookieGoalsLeaders:(0,t.Mz)(o,s=>s?s.rookieGoals:[]),selectFaceOffLeaders:(0,t.Mz)(o,s=>s?s.faceoffs:[]),selectShootingLeaders:(0,t.Mz)(o,s=>s?s.shooting:[]),selectCornerLeaders:(0,t.Mz)(o,s=>s?s.corners:[]),selectPassingLeaders:(0,t.Mz)(o,s=>s?s.passing:[]),selectPointsAboveExpectedLeaders:le,selectPointsBelowExpectedLeaders:de};let v=(()=>{class s{constructor(a){this.store=a,this.isLoading$=this.store.select(r.selectLoading),this.isLoaded$=this.store.select(r.selectLoaded),this.allLeaders$=this.store.select(r.selectAllLeaders),this.hitsLeaders$=this.store.select(r.selectHitsLeaders),this.currStreakLeaders$=this.store.select(r.selectCurrentStreakLeaders),this.longStreakLeaders$=this.store.select(r.selectLongStreakLeaders),this.bestPlusMinusLeaders$=this.store.select(r.selectBestPlusMinusLeaders),this.worstPlusMinusLeaders$=this.store.select(r.selectWorstPlusMinusLeaders),this.minutesLeaders$=this.store.select(r.selectMinutesLeaders),this.penaltiesLeaders$=this.store.select(r.selectPenaltiesLeaders),this.shotsLeaders$=this.store.select(r.selectShotsLeaders),this.blockedShotsLeaders$=this.store.select(r.selectBlockedShotsLeaders),this.shGoalsLeaders$=this.store.select(r.selectShGoalsLeaders),this.ppGoalsLeaders$=this.store.select(r.selectPpGoalsLeaders),this.gwGoalsLeaders$=this.store.select(r.selectGwGoalsLeaders),this.goalsLeaders$=this.store.select(r.selectGoalsLeaders),this.assistsLeaders$=this.store.select(r.selectAssistsLeaders),this.rookieLeaders$=this.store.select(r.selectRookiesLeaders),this.rookieGoalsLeaders$=this.store.select(r.selectRookieGoalsLeaders),this.defenseLeaders$=this.store.select(r.selectDefenseLeaders),this.defenseGoalLeaders$=this.store.select(r.selectDefenseGoalLeaders),this.pointsLeaders$=this.store.select(r.selectPointsLeaders),this.pointsAboveExpectedLeaders$=this.store.select(r.selectPointsAboveExpectedLeaders),this.pointsBelowExpectedLeaders$=this.store.select(r.selectPointsBelowExpectedLeaders),this.faceOffLeaders$=this.store.select(r.selectFaceOffLeaders),this.cornerLeaders$=this.store.select(r.selectCornerLeaders),this.shootingLeaders$=this.store.select(r.selectShootingLeaders),this.passingLeaders$=this.store.select(r.selectPassingLeaders)}getLeagueTeamStats(a){this.store.dispatch(i.getLeaders({seasonType:a}))}static{this.\u0275fac=function(n){return new(n||s)(e.KVO(t.il))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var T=l(3331),ge=l(1594),ue=l(6918),ye=l(2232);const $e=()=>({height:"6px"});function fe(s,c){1&s&&e.nrm(0,"p-progressBar",5),2&s&&e.Aen(e.lJ4(2,$e))}function Se(s,c){if(1&s&&(e.nrm(0,"blade-cha-leader-card",8),e.nI1(1,"async")),2&s){const a=e.XpG(2);e.Y8G("leaders",e.bMT(1,2,a.rookieLeaders$))("type","rookie points")}}function be(s,c){1&s&&e.nrm(0,"blade-cha-leader-card",8),2&s&&e.Y8G("leaders",c.ngIf)("type","points above expected")}function Pe(s,c){1&s&&e.nrm(0,"blade-cha-leader-card",8),2&s&&e.Y8G("leaders",c.ngIf)("type","points below expected")}function me(s,c){if(1&s&&(e.j41(0,"div",7),e.DNE(1,be,1,2,"blade-cha-leader-card",9),e.nI1(2,"async"),e.DNE(3,Pe,1,2,"blade-cha-leader-card",9),e.nI1(4,"async"),e.k0s()),2&s){const a=e.XpG(2);e.R7$(),e.Y8G("ngIf",e.bMT(2,2,a.pointsAboveExpectedLeaders$)),e.R7$(2),e.Y8G("ngIf",e.bMT(4,4,a.pointsBelowExpectedLeaders$))}}function Ge(s,c){if(1&s&&(e.nrm(0,"blade-cha-leader-card",8),e.nI1(1,"async")),2&s){const a=e.XpG(2);e.Y8G("leaders",e.bMT(1,2,a.rookieGoalsLeaders$))("type","rookie goals")}}function Me(s,c){if(1&s&&(e.qex(0),e.j41(1,"div",6)(2,"div",7),e.nrm(3,"blade-cha-leader-card",8),e.nI1(4,"async"),e.nrm(5,"blade-cha-leader-card",8),e.nI1(6,"async"),e.DNE(7,Se,2,4,"blade-cha-leader-card",9),e.k0s(),e.DNE(8,me,5,6,"div",10),e.nI1(9,"async"),e.nI1(10,"async"),e.j41(11,"div",7),e.nrm(12,"blade-cha-leader-card",8),e.nI1(13,"async"),e.nrm(14,"blade-cha-leader-card",8),e.nI1(15,"async"),e.DNE(16,Ge,2,4,"blade-cha-leader-card",9),e.k0s(),e.j41(17,"div",7),e.nrm(18,"blade-cha-leader-card",8),e.nI1(19,"async"),e.nrm(20,"blade-cha-leader-card",8),e.nI1(21,"async"),e.nrm(22,"blade-cha-leader-card",8),e.nI1(23,"async"),e.k0s(),e.j41(24,"div",7),e.nrm(25,"blade-cha-leader-card",8),e.nI1(26,"async"),e.nrm(27,"blade-cha-leader-card",8),e.nI1(28,"async"),e.nrm(29,"blade-cha-leader-card",8),e.nI1(30,"async"),e.k0s(),e.j41(31,"div",7),e.nrm(32,"blade-cha-leader-card",8),e.nI1(33,"async"),e.nrm(34,"blade-cha-leader-card",8),e.nI1(35,"async"),e.nrm(36,"blade-cha-leader-card",8),e.nI1(37,"async"),e.k0s(),e.j41(38,"div",7),e.nrm(39,"blade-cha-leader-card",8),e.nI1(40,"async"),e.nrm(41,"blade-cha-leader-card",8),e.nI1(42,"async"),e.nrm(43,"blade-cha-leader-card",8),e.nI1(44,"async"),e.k0s(),e.j41(45,"div",7),e.nrm(46,"blade-cha-leader-card",8),e.nI1(47,"async"),e.nrm(48,"blade-cha-leader-card",8),e.nI1(49,"async"),e.nrm(50,"blade-cha-leader-card",8),e.nI1(51,"async"),e.k0s(),e.j41(52,"div",7),e.nrm(53,"blade-cha-leader-card",8),e.nI1(54,"async"),e.nrm(55,"blade-cha-leader-card",8),e.nI1(56,"async"),e.k0s()(),e.bVm()),2&s){const a=e.XpG();e.R7$(3),e.Y8G("leaders",e.bMT(4,45,a.pointsLeaders$))("type","points"),e.R7$(2),e.Y8G("leaders",e.bMT(6,47,a.defenseLeaders$))("type","defense points"),e.R7$(2),e.Y8G("ngIf",!1===a.isPlayoffs),e.R7$(),e.Y8G("ngIf",!1===a.isPlayoffs&&e.bMT(9,49,a.pointsAboveExpectedLeaders$)&&e.bMT(10,51,a.pointsBelowExpectedLeaders$)),e.R7$(4),e.Y8G("leaders",e.bMT(13,53,a.goalsLeaders$))("type","goals"),e.R7$(2),e.Y8G("leaders",e.bMT(15,55,a.defenseGoalLeaders$))("type","defense goals"),e.R7$(2),e.Y8G("ngIf",!1===a.isPlayoffs),e.R7$(2),e.Y8G("leaders",e.bMT(19,57,a.assistsLeaders$))("type","assists"),e.R7$(2),e.Y8G("leaders",e.bMT(21,59,a.passingLeaders$))("type","pass %"),e.R7$(2),e.Y8G("leaders",e.bMT(23,61,a.minutesLeaders$))("type","minutes"),e.R7$(3),e.Y8G("leaders",e.bMT(26,63,a.ppGoalsLeaders$))("type","PP Goals"),e.R7$(2),e.Y8G("leaders",e.bMT(28,65,a.shGoalsLeaders$))("type","SH Goals"),e.R7$(2),e.Y8G("leaders",e.bMT(30,67,a.gwGoalsLeaders$))("type","GW Goals"),e.R7$(3),e.Y8G("leaders",e.bMT(33,69,a.shotsLeaders$))("type","shots"),e.R7$(2),e.Y8G("leaders",e.bMT(35,71,a.shootingLeaders$))("type","shot %"),e.R7$(2),e.Y8G("leaders",e.bMT(37,73,a.faceOffLeaders$))("type","faceoff %"),e.R7$(3),e.Y8G("leaders",e.bMT(40,75,a.penaltyLeaders$))("type","penalty minutes"),e.R7$(2),e.Y8G("leaders",e.bMT(42,77,a.blockedShotsLeaders$))("type","blocked shots"),e.R7$(2),e.Y8G("leaders",e.bMT(44,79,a.hitsLeaders$))("type","hits"),e.R7$(3),e.Y8G("leaders",e.bMT(47,81,a.bestPlusMinusLeaders$))("type","best +/-"),e.R7$(2),e.Y8G("leaders",e.bMT(49,83,a.worstPlusMinusLeaders$))("type","worst +/-"),e.R7$(2),e.Y8G("leaders",e.bMT(51,85,a.cornerLeaders$))("type","corner %"),e.R7$(3),e.Y8G("leaders",e.bMT(54,87,a.currStreakLeaders$))("type","current streak"),e.R7$(2),e.Y8G("leaders",e.bMT(56,89,a.longStreakLeaders$))("type","longest streak")}}const ve=[{path:"",component:(()=>{class s{constructor(a,n){this.leagueStatsPlayersFacade=a,this.userTeamFacade=n,this.isPlayoffs=!1,this.selectSeasonOptions=[{label:"Regular",value:"Regular"},{label:"Playoffs",value:"Playoffs",disabled:!0}],this.isLoaded$=this.leagueStatsPlayersFacade.isLoaded$,this.isLoading$=this.leagueStatsPlayersFacade.isLoading$,this.pointsLeaders$=this.leagueStatsPlayersFacade.pointsLeaders$,this.defenseLeaders$=this.leagueStatsPlayersFacade.defenseLeaders$,this.defenseGoalLeaders$=this.leagueStatsPlayersFacade.defenseGoalLeaders$,this.rookieLeaders$=this.leagueStatsPlayersFacade.rookieLeaders$,this.rookieGoalsLeaders$=this.leagueStatsPlayersFacade.rookieGoalsLeaders$,this.goalsLeaders$=this.leagueStatsPlayersFacade.goalsLeaders$,this.assistsLeaders$=this.leagueStatsPlayersFacade.assistsLeaders$,this.shotsLeaders$=this.leagueStatsPlayersFacade.shotsLeaders$,this.minutesLeaders$=this.leagueStatsPlayersFacade.minutesLeaders$,this.ppGoalsLeaders$=this.leagueStatsPlayersFacade.ppGoalsLeaders$,this.gwGoalsLeaders$=this.leagueStatsPlayersFacade.gwGoalsLeaders$,this.shGoalsLeaders$=this.leagueStatsPlayersFacade.shGoalsLeaders$,this.penaltyLeaders$=this.leagueStatsPlayersFacade.penaltiesLeaders$,this.faceOffLeaders$=this.leagueStatsPlayersFacade.faceOffLeaders$,this.shootingLeaders$=this.leagueStatsPlayersFacade.shootingLeaders$,this.cornerLeaders$=this.leagueStatsPlayersFacade.cornerLeaders$,this.passingLeaders$=this.leagueStatsPlayersFacade.passingLeaders$,this.blockedShotsLeaders$=this.leagueStatsPlayersFacade.blockedShotsLeaders$,this.hitsLeaders$=this.leagueStatsPlayersFacade.hitsLeaders$,this.currStreakLeaders$=this.leagueStatsPlayersFacade.currStreakLeaders$,this.longStreakLeaders$=this.leagueStatsPlayersFacade.longStreakLeaders$,this.bestPlusMinusLeaders$=this.leagueStatsPlayersFacade.bestPlusMinusLeaders$,this.worstPlusMinusLeaders$=this.leagueStatsPlayersFacade.worstPlusMinusLeaders$,this.pointsAboveExpectedLeaders$=this.leagueStatsPlayersFacade.pointsAboveExpectedLeaders$,this.pointsBelowExpectedLeaders$=this.leagueStatsPlayersFacade.pointsBelowExpectedLeaders$,this.currentTeam$=this.userTeamFacade.currentUserTeam$,this.currentTeam$.pipe((0,ge.$)()).subscribe(d=>{d&&(this.backgroundColor=d.teamcolor)})}ngOnInit(){this.leagueStatsPlayersFacade.getLeagueTeamStats("Regular")}onSeasonOptionChanged(a){this.isPlayoffs="Playoffs"===a,this.leagueStatsPlayersFacade.getLeagueTeamStats(a)}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(v),e.rXU(b.dq))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["cha-front-stats-players-leaders"]],decls:8,vars:10,consts:[[3,"backgroundColor"],[1,"league-stats-players"],["mode","indeterminate",3,"style",4,"ngIf"],[1,"flex","justify-content-center",3,"optionChanged","options"],[4,"ngIf"],["mode","indeterminate"],[1,"league-stats-players-section"],[1,"league-stats-players-section-body"],[3,"leaders","type"],[3,"leaders","type",4,"ngIf"],["class","league-stats-players-section-body",4,"ngIf"]],template:function(n,d){1&n&&(e.j41(0,"blade-layout-feature-content",0),e.nI1(1,"async"),e.j41(2,"div",1),e.DNE(3,fe,1,3,"p-progressBar",2),e.nI1(4,"async"),e.j41(5,"blade-button-select",3),e.bIt("optionChanged",function(h){return d.onSeasonOptionChanged(h)}),e.k0s(),e.DNE(6,Me,57,91,"ng-container",4),e.nI1(7,"async"),e.k0s()()),2&n&&(e.Y8G("backgroundColor",e.bMT(1,4,d.currentTeam$)?d.backgroundColor:null),e.R7$(3),e.Y8G("ngIf",e.bMT(4,6,d.isLoading$)),e.R7$(2),e.Y8G("options",d.selectSeasonOptions),e.R7$(),e.Y8G("ngIf",e.bMT(7,8,d.isLoaded$)))},dependencies:[g.bT,f.z,ue.N,S.n,ye.u,g.Jj],styles:[".league-stats-players[_ngcontent-%COMP%]{display:grid;padding:20px;grid-row-gap:20px;height:100%;width:100%}.league-stats-players-section[_ngcontent-%COMP%]{display:grid;grid-row-gap:20px}.league-stats-players-section-body[_ngcontent-%COMP%]{display:grid;grid-row-gap:20px;justify-content:space-between;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));grid-column-gap:15px;height:100%}"],changeDetection:0})}}return s})()}];let Te=(()=>{class s{static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[T.iI.forChild(ve),T.iI]})}}return s})();var Fe=l(8477);let Ie=(()=>{class s{static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[G,v,m],imports:[g.MD,Te,f.d,F.F,S.n,Fe.u,t.md.forFeature("league-stats-player",O),L.Vm.forFeature([G])]})}}return s})()}}]);