"use strict";(self.webpackChunkcha_front=self.webpackChunkcha_front||[]).push([[6149],{6149:(pe,y,r)=>{r.r(y),r.d(y,{ChaFrontStatsPlayerLeadersModule:()=>he});var h=r(6895),L=r(8776),a=r(9653),S=r(8235),C=r(1624),P=r(8451),$=r(3647),b=r(1365),x=r(6129),f=r(4004),k=r(262),G=r(9646);const u="[LEAGUE STATS PLAYERS]",c={getLeaders:(0,a.PH)(`${u} Get League Leaders`,(0,a.Ky)()),getLeadersSuccess:(0,a.PH)(`${u} Get League Leaders Success`,(0,a.Ky)()),error:(0,a.PH)(`${u} Error`)};var e=r(4650),J=r(529);let m=(()=>{class s{constructor(t,n){this._http=t,this.apiUrl=n}getAllPlayerLeaders(t,n){return this._http.get(`${this.apiUrl}/player-stats/leaders/${t}/${n}`).pipe((0,f.U)(i=>i))}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(J.eN),e.LFG("apiUrl"))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),F=(()=>{class s{constructor(t,n,i){this.actions$=t,this.leagueDataFacade=n,this.playerStatsService=i,this.getPlayerLeadersStats$=(0,L.GW)(()=>this.actions$.pipe((0,L.l4)(c.getLeaders),(0,b.M)(this.leagueDataFacade.leagueData$),(0,x.z)(([p,ue])=>this.playerStatsService.getAllPlayerLeaders(ue.current_year,p.seasonType).pipe((0,f.U)(ge=>c.getLeadersSuccess({leaders:ge})),(0,k.K)(()=>(0,G.of)(c.error()))))))}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(L.eX),e.LFG($.Ib),e.LFG(m))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})();const Z={leaders:null,loading:!1,loaded:!1},Q=(0,a.Lq)(Z,(0,a.on)(c.getLeaders,s=>({...s,loading:!0,loaded:!1})),(0,a.on)(c.getLeadersSuccess,(s,o)=>({...s,leaders:o.leaders,loading:!1,loaded:!0})),(0,a.on)(c.error,s=>Z));function B(s,o){return Q(s,o)}const g=(0,a.ZF)("league-stats-player"),Y=(0,a.P1)(g,s=>s.loading),z=(0,a.P1)(g,s=>s.loaded),d=(0,a.P1)(g,s=>s.leaders),l={selectLoaded:z,selectLoading:Y,selectAllLeaders:d,selectHitsLeaders:(0,a.P1)(d,s=>s?s.hits:[]),selectCurrentStreakLeaders:(0,a.P1)(d,s=>s?s.currStreak:[]),selectLongStreakLeaders:(0,a.P1)(d,s=>s?s.longStreak:[]),selectBestPlusMinusLeaders:(0,a.P1)(d,s=>s?s.bestPlusMinus:[]),selectMinutesLeaders:(0,a.P1)(d,s=>s?s.minutes:[]),selectPenaltiesLeaders:(0,a.P1)(d,s=>s?s.penalties:[]),selectShotsLeaders:(0,a.P1)(d,s=>s?s.shots:[]),selectBlockedShotsLeaders:(0,a.P1)(d,s=>s?s.blockedShots:[]),selectShGoalsLeaders:(0,a.P1)(d,s=>s?s.shGoals:[]),selectPpGoalsLeaders:(0,a.P1)(d,s=>s?s.ppGoals:[]),selectGoalsLeaders:(0,a.P1)(d,s=>s?s.goals:[]),selectAssistsLeaders:(0,a.P1)(d,s=>s?s.assists:[]),selectRookiesLeaders:(0,a.P1)(d,s=>s?s.rookies:[]),selectDefenseLeaders:(0,a.P1)(d,s=>s?s.defense:[]),selectPointsLeaders:(0,a.P1)(d,s=>s?s.points:[])};let A=(()=>{class s{constructor(t){this.store=t,this.isLoading$=this.store.select(l.selectLoading),this.isLoaded$=this.store.select(l.selectLoaded),this.allLeaders$=this.store.select(l.selectAllLeaders),this.hitsLeaders$=this.store.select(l.selectHitsLeaders),this.currStreakLeaders$=this.store.select(l.selectCurrentStreakLeaders),this.longStreakLeaders$=this.store.select(l.selectLongStreakLeaders),this.bestPlusMinusLeaders$=this.store.select(l.selectBestPlusMinusLeaders),this.minutesLeaders$=this.store.select(l.selectMinutesLeaders),this.penaltiesLeaders$=this.store.select(l.selectPenaltiesLeaders),this.shotsLeaders$=this.store.select(l.selectShotsLeaders),this.blockedShotsLeaders$=this.store.select(l.selectBlockedShotsLeaders),this.shGoalsLeaders$=this.store.select(l.selectShGoalsLeaders),this.ppGoalsLeaders$=this.store.select(l.selectPpGoalsLeaders),this.goalsLeaders$=this.store.select(l.selectGoalsLeaders),this.assistsLeaders$=this.store.select(l.selectAssistsLeaders),this.rookieLeaders$=this.store.select(l.selectRookiesLeaders),this.defenseLeaders$=this.store.select(l.selectDefenseLeaders),this.pointsLeaders$=this.store.select(l.selectPointsLeaders)}getLeagueTeamStats(t){this.store.dispatch(c.getLeaders({seasonType:t}))}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(a.yh))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})();var v=r(1779),ae=r(590),re=r(4268),le=r(1270);const oe=function(){return{height:"6px"}};function de(s,o){1&s&&e._UZ(0,"p-progressBar",5),2&s&&e.Akn(e.DdM(2,oe))}function ne(s,o){if(1&s&&(e.ynx(0),e.TgZ(1,"div",6)(2,"div",7),e._UZ(3,"blade-cha-leader-card",8),e.ALo(4,"async"),e._UZ(5,"blade-cha-leader-card",8),e.ALo(6,"async"),e._UZ(7,"blade-cha-leader-card",8),e.ALo(8,"async"),e.qZA(),e.TgZ(9,"div",7),e._UZ(10,"blade-cha-leader-card",8),e.ALo(11,"async"),e._UZ(12,"blade-cha-leader-card",8),e.ALo(13,"async"),e._UZ(14,"blade-cha-leader-card",8),e.ALo(15,"async"),e.qZA(),e.TgZ(16,"div",7),e._UZ(17,"blade-cha-leader-card",8),e.ALo(18,"async"),e._UZ(19,"blade-cha-leader-card",8),e.ALo(20,"async"),e._UZ(21,"blade-cha-leader-card",8),e.ALo(22,"async"),e.qZA(),e.TgZ(23,"div",7),e._UZ(24,"blade-cha-leader-card",8),e.ALo(25,"async"),e._UZ(26,"blade-cha-leader-card",8),e.ALo(27,"async"),e._UZ(28,"blade-cha-leader-card",8),e.ALo(29,"async"),e.qZA(),e.TgZ(30,"div",7),e._UZ(31,"blade-cha-leader-card",8),e.ALo(32,"async"),e._UZ(33,"blade-cha-leader-card",8),e.ALo(34,"async"),e._UZ(35,"blade-cha-leader-card",8),e.ALo(36,"async"),e.qZA()(),e.BQk()),2&s){const t=e.oxw();e.xp6(3),e.Q6J("leaders",e.lcZ(4,30,t.pointsLeaders$))("type","points"),e.xp6(2),e.Q6J("leaders",e.lcZ(6,32,t.defenseLeaders$))("type","defense points"),e.xp6(2),e.Q6J("leaders",e.lcZ(8,34,t.rookieLeaders$))("type","rookie points"),e.xp6(3),e.Q6J("leaders",e.lcZ(11,36,t.goalsLeaders$))("type","goals"),e.xp6(2),e.Q6J("leaders",e.lcZ(13,38,t.assistsLeaders$))("type","assists"),e.xp6(2),e.Q6J("leaders",e.lcZ(15,40,t.shotsLeaders$))("type","shots"),e.xp6(3),e.Q6J("leaders",e.lcZ(18,42,t.minutesLeaders$))("type","minutes"),e.xp6(2),e.Q6J("leaders",e.lcZ(20,44,t.ppGoalsLeaders$))("type","pp goals"),e.xp6(2),e.Q6J("leaders",e.lcZ(22,46,t.shGoalsLeaders$))("type","sh goals"),e.xp6(3),e.Q6J("leaders",e.lcZ(25,48,t.penaltyLeaders$))("type","penalty minutes"),e.xp6(2),e.Q6J("leaders",e.lcZ(27,50,t.blockedShotsLeaders$))("type","blocked shots"),e.xp6(2),e.Q6J("leaders",e.lcZ(29,52,t.hitsLeaders$))("type","hits"),e.xp6(3),e.Q6J("leaders",e.lcZ(32,54,t.bestPlusMinusLeaders$))("type","+/-"),e.xp6(2),e.Q6J("leaders",e.lcZ(34,56,t.currStreakLeaders$))("type","current streak"),e.xp6(2),e.Q6J("leaders",e.lcZ(36,58,t.longStreakLeaders$))("type","longest streak")}}const ce=[{path:"",component:(()=>{class s{constructor(t,n){this.leagueStatsPlayersFacade=t,this.userTeamFacade=n,this.selectSeasonOptions=[{label:"Regular",value:"Regular"},{label:"Playoffs",value:"Playoffs",disabled:!1}],this.isLoaded$=this.leagueStatsPlayersFacade.isLoaded$,this.isLoading$=this.leagueStatsPlayersFacade.isLoading$,this.pointsLeaders$=this.leagueStatsPlayersFacade.pointsLeaders$,this.defenseLeaders$=this.leagueStatsPlayersFacade.defenseLeaders$,this.rookieLeaders$=this.leagueStatsPlayersFacade.rookieLeaders$,this.goalsLeaders$=this.leagueStatsPlayersFacade.goalsLeaders$,this.assistsLeaders$=this.leagueStatsPlayersFacade.assistsLeaders$,this.shotsLeaders$=this.leagueStatsPlayersFacade.shotsLeaders$,this.minutesLeaders$=this.leagueStatsPlayersFacade.minutesLeaders$,this.ppGoalsLeaders$=this.leagueStatsPlayersFacade.ppGoalsLeaders$,this.shGoalsLeaders$=this.leagueStatsPlayersFacade.shGoalsLeaders$,this.penaltyLeaders$=this.leagueStatsPlayersFacade.penaltiesLeaders$,this.blockedShotsLeaders$=this.leagueStatsPlayersFacade.blockedShotsLeaders$,this.hitsLeaders$=this.leagueStatsPlayersFacade.hitsLeaders$,this.currStreakLeaders$=this.leagueStatsPlayersFacade.currStreakLeaders$,this.longStreakLeaders$=this.leagueStatsPlayersFacade.longStreakLeaders$,this.bestPlusMinusLeaders$=this.leagueStatsPlayersFacade.bestPlusMinusLeaders$,this.currentTeam$=this.userTeamFacade.currentUserTeam$,this.currentTeam$.pipe((0,ae.P)()).subscribe(i=>{i&&(this.backgroundColor=i.teamcolor)})}ngOnInit(){this.leagueStatsPlayersFacade.getLeagueTeamStats("Regular")}onSeasonOptionChanged(t){this.leagueStatsPlayersFacade.getLeagueTeamStats(t)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(A),e.Y36($.Qe))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cha-front-stats-players-leaders"]],decls:8,vars:10,consts:[[3,"backgroundColor"],[1,"league-stats-players"],["mode","indeterminate",3,"style",4,"ngIf"],[1,"flex","justify-content-center",3,"options","optionChanged"],[4,"ngIf"],["mode","indeterminate"],[1,"league-stats-players-section"],[1,"league-stats-players-section-body"],[3,"leaders","type"]],template:function(t,n){1&t&&(e.TgZ(0,"blade-layout-feature-content",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.YNc(3,de,1,3,"p-progressBar",2),e.ALo(4,"async"),e.TgZ(5,"blade-button-select",3),e.NdJ("optionChanged",function(p){return n.onSeasonOptionChanged(p)}),e.qZA(),e.YNc(6,ne,37,60,"ng-container",4),e.ALo(7,"async"),e.qZA()()),2&t&&(e.Q6J("backgroundColor",e.lcZ(1,4,n.currentTeam$)?n.backgroundColor:null),e.xp6(3),e.Q6J("ngIf",e.lcZ(4,6,n.isLoading$)),e.xp6(2),e.Q6J("options",n.selectSeasonOptions),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,8,n.isLoaded$)))},dependencies:[h.O5,S.k,re.R,P.u,le.o,h.Ov],styles:[".league-stats-players[_ngcontent-%COMP%]{display:grid;padding:20px;grid-row-gap:20px;height:100%;width:100%}.league-stats-players-section[_ngcontent-%COMP%]{display:grid;grid-row-gap:20px}.league-stats-players-section-body[_ngcontent-%COMP%]{display:grid;grid-row-gap:20px;justify-content:space-between;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));grid-column-gap:15px;height:100%}"],changeDetection:0}),s})()}];let ie=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[v.Bz.forChild(ce),v.Bz]}),s})();var Le=r(7308);let he=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[F,A,m],imports:[h.ez,ie,S.q,C.E,P.u,Le.o,a.Aw.forFeature("league-stats-player",B),L.sQ.forFeature([F])]}),s})()}}]);