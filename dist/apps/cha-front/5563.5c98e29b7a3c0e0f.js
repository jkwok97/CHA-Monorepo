"use strict";(self.webpackChunkcha_front=self.webpackChunkcha_front||[]).push([[5563],{5563:(ne,d,r)=>{r.r(d),r.d(d,{ChaFrontLeagueWaiversModule:()=>ae});var l=r(6895),c=r(8776),o=r(9653),p=r(8235),m=r(7466),Z=r(1624),x=r(2675),f=r(3004),$=r(6129),h=r(4004),A=r(262),S=r(9646);const g="[LEAGUE WAIVERS]",i={getWaivers:(0,o.PH)(`${g} Get Waivers`),getWaiversSuccess:(0,o.PH)(`${g} Get Waivers Success`,(0,o.Ky)()),error:(0,o.PH)(`${g} Error`)};var e=r(4650),b=r(529);let L=(()=>{class t{constructor(a,n){this._http=a,this.apiUrl=n}getWaivers(){return this._http.get(`${this.apiUrl}/waivers/all`).pipe((0,h.U)(a=>a))}}return t.\u0275fac=function(a){return new(a||t)(e.LFG(b.eN),e.LFG("apiUrl"))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),W=(()=>{class t{constructor(a,n){this.actions$=a,this.leagueWaiversService=n,this.getWaivers$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(i.getWaivers),(0,$.z)(C=>this.leagueWaiversService.getWaivers().pipe((0,h.U)(se=>i.getWaiversSuccess({waivers:se})),(0,A.K)(()=>(0,S.of)(i.error()))))))}}return t.\u0275fac=function(a){return new(a||t)(e.LFG(c.eX),e.LFG(L))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();const y={waivers:[],loading:!1,loaded:!1},E=(0,o.Lq)(y,(0,o.on)(i.getWaivers,t=>({...t,loading:!0,loaded:!1})),(0,o.on)(i.getWaiversSuccess,(t,s)=>({...t,waivers:s.waivers,loading:!1,loaded:!0})),(0,o.on)(i.error,t=>y));function N(t,s){return E(t,s)}const u=(0,o.ZF)("league-waivers"),J=(0,o.P1)(u,t=>t.loading),v={selectLoaded:(0,o.P1)(u,t=>t.loaded),selectLoading:J,selectWaivers:(0,o.P1)(u,t=>t.waivers)};let F=(()=>{class t{constructor(a){this.store=a,this.isLoading$=this.store.select(v.selectLoading),this.isLoaded$=this.store.select(v.selectLoaded),this.waivers$=this.store.select(v.selectWaivers)}getWaivers(){this.store.dispatch(i.getWaivers())}}return t.\u0275fac=function(a){return new(a||t)(e.LFG(o.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var T=r(1779),B=r(3647),z=r(4268),j=r(1889),O=r(4984),R=r(805);function D(t,s){1&t&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Priority No."),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Team"),e.qZA()())}function H(t,s){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"div"),e._uU(7),e.qZA()()()()),2&t){const a=s.$implicit,n=e.oxw();e.xp6(2),e.Oqu(a.priority_number),e.xp6(3),e.Q6J("src",n.getString(a.teamLogo),e.LSH),e.xp6(2),e.hij(" ",a.teamName," ")}}let K=(()=>{class t{ngOnInit(){this.waiversForTable=this.mapItems(this.waivers)}mapItems(a){return a.map(n=>({...n,teamLogo:this.getString(n.teamInfo?.teamlogo?n.teamInfo.teamlogo:""),teamName:`${n.teamInfo?.city} ${n.teamInfo?.nickname}`})).sort((n,C)=>n.priority_number-C.priority_number)}getString(a){const n=a.split("/");return`assets/${n[n.length-1]}`}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["cha-front-league-waivers-table"]],inputs:{waivers:"waivers"},decls:4,vars:1,consts:[["dataKey","id","responsiveLayout","scroll","styleClass","p-datatable-sm p-datatable-striped w-max","sortField","waiver.priority_number",3,"value"],["dt",""],["pTemplate","header"],["pTemplate","body"],[1,"flex","align-items-center","column-gap-2"],["height","30px",3,"src"]],template:function(a,n){1&a&&(e.TgZ(0,"p-table",0,1),e.YNc(2,D,5,0,"ng-template",2),e.YNc(3,H,8,3,"ng-template",3),e.qZA()),2&a&&e.Q6J("value",n.waiversForTable)},dependencies:[m.iA,R.jx],changeDetection:0}),t})();const X=function(){return{height:"6px"}};function V(t,s){1&t&&e._UZ(0,"p-progressBar",3),2&t&&e.Akn(e.DdM(2,X))}function q(t,s){if(1&t&&(e.TgZ(0,"div",4)(1,"div",5),e._uU(2),e.ALo(3,"async"),e.qZA()()),2&t){const a=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,1,a.season$)," Waiver Priority ")}}function k(t,s){if(1&t&&(e.ynx(0),e.TgZ(1,"div",6),e._UZ(2,"cha-front-league-waivers-table",7),e.qZA(),e.BQk()),2&t){const a=s.ngIf;e.xp6(2),e.Q6J("waivers",a)}}function _(t,s){if(1&t&&(e.TgZ(0,"blade-card")(1,"blade-card-body"),e.YNc(2,k,3,1,"ng-container",2),e.ALo(3,"async"),e.qZA()()),2&t){const a=e.oxw();e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,a.waivers$))}}const ee=[{path:"",component:(()=>{class t{constructor(a,n){this.leagueWaiversFacade=a,this.leagueDataFacade=n,this.isLoaded$=this.leagueWaiversFacade.isLoaded$,this.isLoading$=this.leagueWaiversFacade.isLoading$,this.season$=this.leagueDataFacade.currentSeason$,this.waivers$=this.leagueWaiversFacade.waivers$}ngOnInit(){this.leagueWaiversFacade.getWaivers()}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(F),e.Y36(B.Ib))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cha-front-league-waivers"]],decls:9,vars:9,consts:[["mode","indeterminate",3,"style",4,"ngIf"],["class","pt-2",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],[1,"pt-2"],[1,"text-lg","text-center",2,"font-weight","100"],[1,"flex","justify-content-center"],[3,"waivers"]],template:function(a,n){1&a&&(e.TgZ(0,"blade-layout-feature-content")(1,"div"),e.YNc(2,V,1,3,"p-progressBar",0),e.ALo(3,"async"),e.YNc(4,q,4,3,"div",1),e.ALo(5,"async"),e._UZ(6,"blade-divider"),e.YNc(7,_,4,3,"blade-card",2),e.ALo(8,"async"),e.qZA()()),2&a&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,3,n.isLoading$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,5,n.season$)),e.xp6(3),e.Q6J("ngIf",e.lcZ(8,7,n.isLoaded$)))},dependencies:[l.O5,p.k,z.R,j.A,O.y,f.C,K,l.Ov],encapsulation:2,changeDetection:0}),t})()}];let te=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[T.Bz.forChild(ee),T.Bz]}),t})(),ae=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[L,F,W],imports:[l.ez,te,p.q,m.U$,Z.E,x.N,f.C,o.Aw.forFeature("league-waivers",N),c.sQ.forFeature([W])]}),t})()}}]);