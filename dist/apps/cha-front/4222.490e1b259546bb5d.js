"use strict";(self.webpackChunkcha_front=self.webpackChunkcha_front||[]).push([[4222],{4222:(ge,G,n)=>{n.r(G),n.d(G,{ChaFrontStatsGoalieLeadersModule:()=>le});var L=n(177),$=n(1579),b=n(8067),S=n(5774),u=n(7339),o=n(9310),p=n(3784),M=n(3993),x=n(786),y=n(6354),E=n(9437),P=n(7673);const f="[LEAGUE STATS GOALIES]",l={getLeaders:(0,o.VP)(`${f} Get League Leaders`,(0,o.xk)()),getLeadersSuccess:(0,o.VP)(`${f} Get League Leaders Success`,(0,o.xk)()),error:(0,o.VP)(`${f} Error`)};var e=n(4438),A=n(1562);let v=(()=>{class t{constructor(a,s){this._http=a,this.apiUrl=s}getAllGoalieLeaders(a,s,i){return this._http.get(`${this.apiUrl}/goalie-stats/leaders/${a}/${s}/${i}`).pipe((0,y.T)(d=>d))}static{this.\u0275fac=function(s){return new(s||t)(e.KVO(A.Qq),e.KVO("apiUrl"))}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),F=(()=>{class t{constructor(a,s,i){this.actions$=a,this.leagueDataFacade=s,this.goaliesStatsService=i,this.getGoalieLeaderStats$=(0,u.EH)(()=>this.actions$.pipe((0,u.gp)(l.getLeaders),(0,M.E)(this.leagueDataFacade.leagueData$),(0,x.p)(([d,h])=>this.goaliesStatsService.getAllGoalieLeaders(h.offseason?h.prev_year:h.current_year,d.seasonType,h.min_games.toString()).pipe((0,y.T)(de=>l.getLeadersSuccess({leaders:de})),(0,E.W)(()=>(0,P.of)(l.error()))))))}static{this.\u0275fac=function(s){return new(s||t)(e.KVO(u.En),e.KVO(p.A6),e.KVO(v))}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac})}}return t})();const T={leaders:null,loading:!1,loaded:!1},V=(0,o.vy)(T,(0,o.on)(l.getLeaders,t=>({...t,loading:!0,loaded:!1})),(0,o.on)(l.getLeadersSuccess,(t,r)=>({...t,leaders:r.leaders,loading:!1,loaded:!0})),(0,o.on)(l.error,t=>T));function Y(t,r){return V(t,r)}const m=(0,o.UX)("league-stats-goalie"),X=(0,o.Mz)(m,t=>t.loading),z=(0,o.Mz)(m,t=>t.loaded),g=(0,o.Mz)(m,t=>t.leaders),c={selectLoaded:z,selectLoading:X,selectAllLeaders:g,selectShotsFacedLeaders:(0,o.Mz)(g,t=>t?t.shotsFaced:[]),selectSavePctLeaders:(0,o.Mz)(g,t=>t?t.savePct:[]),selectShutoutsLeaders:(0,o.Mz)(g,t=>t?t.shutouts:[]),selectGaaLeaders:(0,o.Mz)(g,t=>t?t.gaa:[]),selectWinsLeaders:(0,o.Mz)(g,t=>t?t.wins:[])};let I=(()=>{class t{constructor(a){this.store=a,this.isLoading$=this.store.select(c.selectLoading),this.isLoaded$=this.store.select(c.selectLoaded),this.allLeaders$=this.store.select(c.selectAllLeaders),this.winsLeaders$=this.store.select(c.selectWinsLeaders),this.gaaLeaders$=this.store.select(c.selectGaaLeaders),this.savePctLeaders$=this.store.select(c.selectSavePctLeaders),this.shotsFacedLeaders$=this.store.select(c.selectShotsFacedLeaders),this.shutoutsLeaders$=this.store.select(c.selectShutoutsLeaders)}getLeagueTeamStats(a){this.store.dispatch(l.getLeaders({seasonType:a}))}static{this.\u0275fac=function(s){return new(s||t)(e.KVO(o.il))}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac})}}return t})();var C=n(3331),J=n(1594),Q=n(6918),w=n(2232);const Z=()=>({height:"6px"});function k(t,r){1&t&&e.nrm(0,"p-progressBar",5),2&t&&e.Aen(e.lJ4(2,Z))}function q(t,r){if(1&t&&e.nrm(0,"blade-cha-leader-card",8),2&t){const a=e.XpG().ngIf;e.Y8G("goalieLeaders",a)("type","shots faced")}}function ee(t,r){if(1&t&&(e.qex(0),e.DNE(1,q,1,2,"blade-cha-leader-card",9),e.bVm()),2&t){const a=r.ngIf;e.R7$(),e.Y8G("ngIf",a.length>0)}}function te(t,r){if(1&t&&(e.nrm(0,"blade-cha-leader-card",11),e.nI1(1,"async")),2&t){const a=e.XpG().ngIf,s=e.XpG(2);e.Y8G("goalieLeaders",a)("type","Goals Against Avg")("minGames",e.bMT(1,3,s.minGames$))}}function ae(t,r){if(1&t&&(e.qex(0),e.DNE(1,te,2,5,"blade-cha-leader-card",10),e.bVm()),2&t){const a=r.ngIf;e.R7$(),e.Y8G("ngIf",a.length>0)}}function se(t,r){if(1&t&&(e.nrm(0,"blade-cha-leader-card",11),e.nI1(1,"async")),2&t){const a=e.XpG().ngIf,s=e.XpG(2);e.Y8G("goalieLeaders",a)("type","Save Pct")("minGames",e.bMT(1,3,s.minGames$))}}function ne(t,r){if(1&t&&(e.qex(0),e.DNE(1,se,2,5,"blade-cha-leader-card",10),e.bVm()),2&t){const a=r.ngIf;e.R7$(),e.Y8G("ngIf",a.length>0)}}function oe(t,r){if(1&t&&(e.qex(0),e.j41(1,"div",6)(2,"div",7),e.nrm(3,"blade-cha-leader-card",8),e.nI1(4,"async"),e.DNE(5,ee,2,1,"ng-container",4),e.nI1(6,"async"),e.nrm(7,"blade-cha-leader-card",8),e.nI1(8,"async"),e.k0s(),e.j41(9,"div",7),e.DNE(10,ae,2,1,"ng-container",4),e.nI1(11,"async"),e.DNE(12,ne,2,1,"ng-container",4),e.nI1(13,"async"),e.k0s()(),e.bVm()),2&t){const a=e.XpG();e.R7$(3),e.Y8G("goalieLeaders",e.bMT(4,7,a.winsLeaders$))("type","wins"),e.R7$(2),e.Y8G("ngIf",e.bMT(6,9,a.shotsFacedLeaders$)),e.R7$(2),e.Y8G("goalieLeaders",e.bMT(8,11,a.shutoutLeaders$))("type","shutouts"),e.R7$(3),e.Y8G("ngIf",e.bMT(11,13,a.gaaLeaders$)),e.R7$(2),e.Y8G("ngIf",e.bMT(13,15,a.savePctLeaders$))}}const re=[{path:"",component:(()=>{class t{constructor(a,s,i){this.leagueStatsGoalieFacade=a,this.leagueDataFacade=s,this.userTeamFacade=i,this.selectSeasonOptions=[{label:"Regular",value:"Regular"},{label:"Playoffs",value:"Playoffs",disabled:!0}],this.isLoaded$=this.leagueStatsGoalieFacade.isLoaded$,this.isLoading$=this.leagueStatsGoalieFacade.isLoading$,this.winsLeaders$=this.leagueStatsGoalieFacade.winsLeaders$,this.gaaLeaders$=this.leagueStatsGoalieFacade.gaaLeaders$,this.savePctLeaders$=this.leagueStatsGoalieFacade.savePctLeaders$,this.shotsFacedLeaders$=this.leagueStatsGoalieFacade.shotsFacedLeaders$,this.shutoutLeaders$=this.leagueStatsGoalieFacade.shutoutsLeaders$,this.minGames$=this.leagueDataFacade.minGames$,this.currentTeam$=this.userTeamFacade.currentUserTeam$,this.currentTeam$.pipe((0,J.$)()).subscribe(d=>{d&&(this.backgroundColor=d.teamcolor)})}ngOnInit(){this.leagueStatsGoalieFacade.getLeagueTeamStats("Regular")}onSeasonOptionChanged(a){this.leagueStatsGoalieFacade.getLeagueTeamStats(a)}static{this.\u0275fac=function(s){return new(s||t)(e.rXU(I),e.rXU(p.A6),e.rXU(p.dq))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["cha-front-stats-goalie-leaders"]],decls:8,vars:10,consts:[[3,"backgroundColor"],[1,"league-stats-goalies"],["mode","indeterminate",3,"style",4,"ngIf"],[1,"flex","justify-content-center",3,"optionChanged","options"],[4,"ngIf"],["mode","indeterminate"],[1,"league-stats-goalies-section"],[1,"league-stats-goalies-section-body"],[3,"goalieLeaders","type"],[3,"goalieLeaders","type",4,"ngIf"],[3,"goalieLeaders","type","minGames",4,"ngIf"],[3,"goalieLeaders","type","minGames"]],template:function(s,i){1&s&&(e.j41(0,"blade-layout-feature-content",0),e.nI1(1,"async"),e.j41(2,"div",1),e.DNE(3,k,1,3,"p-progressBar",2),e.nI1(4,"async"),e.j41(5,"blade-button-select",3),e.bIt("optionChanged",function(h){return i.onSeasonOptionChanged(h)}),e.k0s(),e.DNE(6,oe,14,17,"ng-container",4),e.nI1(7,"async"),e.k0s()()),2&s&&(e.Y8G("backgroundColor",e.bMT(1,4,i.currentTeam$)?i.backgroundColor:null),e.R7$(3),e.Y8G("ngIf",e.bMT(4,6,i.isLoading$)),e.R7$(2),e.Y8G("options",i.selectSeasonOptions),e.R7$(),e.Y8G("ngIf",e.bMT(7,8,i.isLoaded$)))},dependencies:[L.bT,$.z,Q.N,S.n,w.u,L.Jj],styles:[".league-stats-goalies[_ngcontent-%COMP%]{display:grid;padding:20px;grid-row-gap:20px;height:100%;width:100%}.league-stats-goalies-section[_ngcontent-%COMP%]{display:grid;grid-row-gap:20px}.league-stats-goalies-section-body[_ngcontent-%COMP%]{display:grid;grid-row-gap:20px;justify-content:space-between;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));grid-column-gap:15px;height:100%}"],changeDetection:0})}}return t})()}];let ie=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[C.iI.forChild(re),C.iI]})}}return t})();var ce=n(8477);let le=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({providers:[v,F,I],imports:[L.MD,ie,$.d,b.F,S.n,ce.u,o.md.forFeature("league-stats-goalie",Y),u.Vm.forFeature([F])]})}}return t})()}}]);