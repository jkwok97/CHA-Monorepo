"use strict";(self.webpackChunkcha_front=self.webpackChunkcha_front||[]).push([[4661],{4661:(ue,G,n)=>{n.r(G),n.d(G,{ChaFrontStatsGoalieLeadersModule:()=>de});var p=n(6814),v=n(6651),P=n(2321),y=n(9131),L=n(8131),r=n(3423),f=n(2490),T=n(2460),Z=n(7634),F=n(7398),I=n(6306),Q=n(2096);const S="[LEAGUE STATS GOALIES]",d={getLeaders:(0,r.PH)(`${S} Get League Leaders`,(0,r.Ky)()),getLeadersSuccess:(0,r.PH)(`${S} Get League Leaders Success`,(0,r.Ky)()),error:(0,r.PH)(`${S} Error`)};var e=n(5879),U=n(9862);let $=(()=>{var a;class t{constructor(s,c){this._http=s,this.apiUrl=c}getAllGoalieLeaders(s,c,u){return this._http.get(`${this.apiUrl}/goalie-stats/leaders/${s}/${c}/${u}`).pipe((0,F.U)(l=>l))}}return(a=t).\u0275fac=function(s){return new(s||a)(e.LFG(U.eN),e.LFG("apiUrl"))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),t})(),C=(()=>{var a;class t{constructor(s,c,u){this.actions$=s,this.leagueDataFacade=c,this.goaliesStatsService=u,this.getGoalieLeaderStats$=(0,L.GW)(()=>this.actions$.pipe((0,L.l4)(d.getLeaders),(0,T.M)(this.leagueDataFacade.leagueData$),(0,Z.z)(([l,h])=>this.goaliesStatsService.getAllGoalieLeaders(h.offseason?h.prev_year:h.current_year,l.seasonType,h.min_games.toString()).pipe((0,F.U)(ge=>d.getLeadersSuccess({leaders:ge})),(0,I.K)(()=>(0,Q.of)(d.error()))))))}}return(a=t).\u0275fac=function(s){return new(s||a)(e.LFG(L.eX),e.LFG(f.Ib),e.LFG($))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),t})();const x={leaders:null,loading:!1,loaded:!1},Y=(0,r.Lq)(x,(0,r.on)(d.getLeaders,a=>({...a,loading:!0,loaded:!1})),(0,r.on)(d.getLeadersSuccess,(a,t)=>({...a,leaders:t.leaders,loading:!1,loaded:!0})),(0,r.on)(d.error,a=>x));function E(a,t){return Y(a,t)}const m=(0,r.ZF)("league-stats-goalie"),R=(0,r.P1)(m,a=>a.loading),w=(0,r.P1)(m,a=>a.loaded),g=(0,r.P1)(m,a=>a.leaders),i={selectLoaded:w,selectLoading:R,selectAllLeaders:g,selectShotsFacedLeaders:(0,r.P1)(g,a=>a?a.shotsFaced:[]),selectSavePctLeaders:(0,r.P1)(g,a=>a?a.savePct:[]),selectShutoutsLeaders:(0,r.P1)(g,a=>a?a.shutouts:[]),selectGaaLeaders:(0,r.P1)(g,a=>a?a.gaa:[]),selectWinsLeaders:(0,r.P1)(g,a=>a?a.wins:[])};let _=(()=>{var a;class t{constructor(s){this.store=s,this.isLoading$=this.store.select(i.selectLoading),this.isLoaded$=this.store.select(i.selectLoaded),this.allLeaders$=this.store.select(i.selectAllLeaders),this.winsLeaders$=this.store.select(i.selectWinsLeaders),this.gaaLeaders$=this.store.select(i.selectGaaLeaders),this.savePctLeaders$=this.store.select(i.selectSavePctLeaders),this.shotsFacedLeaders$=this.store.select(i.selectShotsFacedLeaders),this.shutoutsLeaders$=this.store.select(i.selectShutoutsLeaders)}getLeagueTeamStats(s){this.store.dispatch(d.getLeaders({seasonType:s}))}}return(a=t).\u0275fac=function(s){return new(s||a)(e.LFG(r.yh))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),t})();var A=n(9775),W=n(1374),X=n(7169),V=n(2182);const k=function(){return{height:"6px"}};function q(a,t){1&a&&e._UZ(0,"p-progressBar",5),2&a&&e.Akn(e.DdM(2,k))}function ee(a,t){if(1&a&&(e._UZ(0,"blade-cha-leader-card",10),e.ALo(1,"async")),2&a){const o=e.oxw().ngIf,s=e.oxw(2);e.Q6J("goalieLeaders",o)("type","Goals Against Avg")("minGames",e.lcZ(1,3,s.minGames$))}}function ae(a,t){if(1&a&&(e.ynx(0),e.YNc(1,ee,2,5,"blade-cha-leader-card",9),e.BQk()),2&a){const o=t.ngIf;e.xp6(1),e.Q6J("ngIf",o.length>0)}}function te(a,t){if(1&a&&(e._UZ(0,"blade-cha-leader-card",10),e.ALo(1,"async")),2&a){const o=e.oxw().ngIf,s=e.oxw(2);e.Q6J("goalieLeaders",o)("type","Save Pct")("minGames",e.lcZ(1,3,s.minGames$))}}function se(a,t){if(1&a&&(e.ynx(0),e.YNc(1,te,2,5,"blade-cha-leader-card",9),e.BQk()),2&a){const o=t.ngIf;e.xp6(1),e.Q6J("ngIf",o.length>0)}}function oe(a,t){if(1&a&&e._UZ(0,"blade-cha-leader-card",8),2&a){const o=e.oxw().ngIf;e.Q6J("goalieLeaders",o)("type","shots faced")}}function ne(a,t){if(1&a&&(e.ynx(0),e.YNc(1,oe,1,2,"blade-cha-leader-card",11),e.BQk()),2&a){const o=t.ngIf;e.xp6(1),e.Q6J("ngIf",o.length>0)}}function re(a,t){if(1&a&&(e.ynx(0),e.TgZ(1,"div",6)(2,"div",7),e._UZ(3,"blade-cha-leader-card",8),e.ALo(4,"async"),e.YNc(5,ae,2,1,"ng-container",4),e.ALo(6,"async"),e.YNc(7,se,2,1,"ng-container",4),e.ALo(8,"async"),e.qZA(),e.TgZ(9,"div",7),e.YNc(10,ne,2,1,"ng-container",4),e.ALo(11,"async"),e._UZ(12,"blade-cha-leader-card",8),e.ALo(13,"async"),e.qZA()(),e.BQk()),2&a){const o=e.oxw();e.xp6(3),e.Q6J("goalieLeaders",e.lcZ(4,7,o.winsLeaders$))("type","wins"),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,9,o.gaaLeaders$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(8,11,o.savePctLeaders$)),e.xp6(3),e.Q6J("ngIf",e.lcZ(11,13,o.shotsFacedLeaders$)),e.xp6(2),e.Q6J("goalieLeaders",e.lcZ(13,15,o.shutoutLeaders$))("type","shutouts")}}const ce=[{path:"",component:(()=>{var a;class t{constructor(s,c,u){this.leagueStatsGoalieFacade=s,this.leagueDataFacade=c,this.userTeamFacade=u,this.selectSeasonOptions=[{label:"Regular",value:"Regular"},{label:"Playoffs",value:"Playoffs",disabled:!1}],this.isLoaded$=this.leagueStatsGoalieFacade.isLoaded$,this.isLoading$=this.leagueStatsGoalieFacade.isLoading$,this.winsLeaders$=this.leagueStatsGoalieFacade.winsLeaders$,this.gaaLeaders$=this.leagueStatsGoalieFacade.gaaLeaders$,this.savePctLeaders$=this.leagueStatsGoalieFacade.savePctLeaders$,this.shotsFacedLeaders$=this.leagueStatsGoalieFacade.shotsFacedLeaders$,this.shutoutLeaders$=this.leagueStatsGoalieFacade.shutoutsLeaders$,this.minGames$=this.leagueDataFacade.minGames$,this.currentTeam$=this.userTeamFacade.currentUserTeam$,this.currentTeam$.pipe((0,W.P)()).subscribe(l=>{l&&(this.backgroundColor=l.teamcolor)})}ngOnInit(){this.leagueStatsGoalieFacade.getLeagueTeamStats("Regular")}onSeasonOptionChanged(s){this.leagueStatsGoalieFacade.getLeagueTeamStats(s)}}return(a=t).\u0275fac=function(s){return new(s||a)(e.Y36(_),e.Y36(f.Ib),e.Y36(f.Qe))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cha-front-stats-goalie-leaders"]],decls:8,vars:10,consts:[[3,"backgroundColor"],[1,"league-stats-goalies"],["mode","indeterminate",3,"style",4,"ngIf"],[1,"flex","justify-content-center",3,"options","optionChanged"],[4,"ngIf"],["mode","indeterminate"],[1,"league-stats-goalies-section"],[1,"league-stats-goalies-section-body"],[3,"goalieLeaders","type"],[3,"goalieLeaders","type","minGames",4,"ngIf"],[3,"goalieLeaders","type","minGames"],[3,"goalieLeaders","type",4,"ngIf"]],template:function(s,c){1&s&&(e.TgZ(0,"blade-layout-feature-content",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.YNc(3,q,1,3,"p-progressBar",2),e.ALo(4,"async"),e.TgZ(5,"blade-button-select",3),e.NdJ("optionChanged",function(l){return c.onSeasonOptionChanged(l)}),e.qZA(),e.YNc(6,re,14,17,"ng-container",4),e.ALo(7,"async"),e.qZA()()),2&s&&(e.Q6J("backgroundColor",e.lcZ(1,4,c.currentTeam$)?c.backgroundColor:null),e.xp6(3),e.Q6J("ngIf",e.lcZ(4,6,c.isLoading$)),e.xp6(2),e.Q6J("options",c.selectSeasonOptions),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,8,c.isLoaded$)))},dependencies:[p.O5,v.k,X.R,y.u,V.o,p.Ov],styles:[".league-stats-goalies[_ngcontent-%COMP%]{display:grid;padding:20px;grid-row-gap:20px;height:100%;width:100%}.league-stats-goalies-section[_ngcontent-%COMP%]{display:grid;grid-row-gap:20px}.league-stats-goalies-section-body[_ngcontent-%COMP%]{display:grid;grid-row-gap:20px;justify-content:space-between;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));grid-column-gap:15px;height:100%}"],changeDetection:0}),t})()}];let ie=(()=>{var a;class t{}return(a=t).\u0275fac=function(s){return new(s||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[A.Bz.forChild(ce),A.Bz]}),t})();var le=n(1867);let de=(()=>{var a;class t{}return(a=t).\u0275fac=function(s){return new(s||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[$,C,_],imports:[p.ez,ie,v.q,P.E,y.u,le.o,r.Aw.forFeature("league-stats-goalie",E),L.sQ.forFeature([C])]}),t})()}}]);