"use strict";(self.webpackChunkcha_front=self.webpackChunkcha_front||[]).push([[5552],{1185:(U,v,o)=>{o.d(v,{n:()=>f});var n=o(4650);const g=["*"];let f=(()=>{class c{constructor(){this.class="blade-card-header"}}return c.\u0275fac=function(p){return new(p||c)},c.\u0275cmp=n.Xpm({type:c,selectors:[["blade-card-header"]],hostVars:2,hostBindings:function(p,T){2&p&&n.Tol(T.class)},ngContentSelectors:g,decls:1,vars:0,template:function(p,T){1&p&&(n.F$t(),n.Hsn(0))},styles:[".blade-card{display:flex;flex-direction:column;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:6px}.blade-card-header{padding:1rem 1rem 0}.blade-card-body{padding:1rem}.blade-card-footer{padding:0 1rem 1rem}\n"],encapsulation:2,changeDetection:0}),c})()},5552:(U,v,o)=>{o.r(v),o.d(v,{ChaFrontLeagueTradesModule:()=>Te});var n=o(6895),g=o(433),f=o(8776),c=o(9653),h=o(8235),p=o(585),T=o(8271),C=o(1740),_=o(1624),A=o(2675),s=o(3004);const d="[LEAGUE TRADES]",u={getTrades:(0,c.PH)(`${d} Get Trades For Season`,(0,c.Ky)()),getTradesSuccess:(0,c.PH)(`${d} Get Trades For Season Success`,(0,c.Ky)()),filterTrades:(0,c.PH)(`${d} Filter Trades`,(0,c.Ky)()),error:(0,c.PH)(`${d} Error`)},b={transactions:[],filter:"",loading:!1,loaded:!1},N=(0,c.Lq)(b,(0,c.on)(u.getTrades,a=>({...a,loading:!0,loaded:!1})),(0,c.on)(u.getTradesSuccess,(a,r)=>({...a,transactions:r.transactions,loading:!1,loaded:!0})),(0,c.on)(u.filterTrades,(a,r)=>({...a,filter:r.filter})),(0,c.on)(u.error,a=>b));function z(a,r){return N(a,r)}const L=(0,c.ZF)("league-trades"),W=(0,c.P1)(L,a=>a.loading),K=(0,c.P1)(L,a=>a.loaded),E=(0,c.P1)(L,a=>a.transactions),O=(0,c.P1)(L,a=>a.filter),Z={selectLoaded:K,selectLoading:W,selectTransactions:E,selectFilter:O,selectFilteredTrades:(0,c.P1)(E,O,(a,r)=>a.filter(t=>function X(a,r){return a.teamOneInfo.city?.toLowerCase().includes(r.toLowerCase())||a.teamOneInfo.nickname?.toLowerCase().includes(r.toLowerCase())||a.teamTwoInfo.city?.toLowerCase().includes(r.toLowerCase())||a.teamTwoInfo.nickname?.toLowerCase().includes(r.toLowerCase())||a.teamOnePlayers.filter(t=>t.player.firstname.toLowerCase().includes(r.toLowerCase())).length>0||a.teamOnePlayers.filter(t=>t.player.lastname.toLowerCase().includes(r.toLowerCase())).length>0||a.teamTwoPlayers.filter(t=>t.player.firstname.toLowerCase().includes(r.toLowerCase())).length>0||a.teamTwoPlayers.filter(t=>t.player.lastname.toLowerCase().includes(r.toLowerCase())).length>0}(t,r)))};var e=o(4650);let I=(()=>{class a{constructor(t){this.store=t,this.isLoading$=this.store.select(Z.selectLoading),this.isLoaded$=this.store.select(Z.selectLoaded),this.transactions$=this.store.select(Z.selectFilteredTrades)}getTransactions(t){this.store.dispatch(u.getTrades({season:t}))}updateFilter(t){this.store.dispatch(u.filterTrades({filter:t}))}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(c.yh))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})();var S=o(4004),q=o(529);let $=(()=>{class a{constructor(t,l){this._http=t,this.apiUrl=l}getTransactions(t){return this._http.get(`${this.apiUrl}/transactions/${t}`).pipe((0,S.U)(l=>l))}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(q.eN),e.LFG("apiUrl"))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var V=o(6129),ee=o(262),ae=o(9646);let J=(()=>{class a{constructor(t,l){this.actions$=t,this.leagueTradesService=l,this.getCurrentGames$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(u.getTrades),(0,V.z)(ve=>this.leagueTradesService.getTransactions(ve.season).pipe((0,S.U)(ye=>u.getTradesSuccess({transactions:ye})),(0,ee.K)(()=>(0,ae.of)(u.error()))))))}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(f.eX),e.LFG($))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})();var M=o(1779),Q=o(655),P=o(9933),te=o(8675),ne=o(4268),Y=o(1889),D=o(4984),H=o(1185);function re(a,r){if(1&a&&(e.TgZ(0,"div",7),e._UZ(1,"p-avatar",8),e._uU(2),e.qZA()),2&a){const t=r.$implicit,l=e.oxw(2);e.Udp("color",l.teamInfo.teamtextcolor),e.xp6(1),e.Q6J("image",l.getPlayerPicture(null==t||null==t.player?null:t.player.nhl_id)),e.xp6(1),e.AsE(" ",null==t||null==t.player?null:t.player.firstname," ",null==t||null==t.player?null:t.player.lastname," ")}}function oe(a,r){if(1&a&&(e.TgZ(0,"div")(1,"div",5),e._uU(2,"Players"),e.qZA(),e.YNc(3,re,3,5,"div",6),e.qZA()),2&a){const t=e.oxw();e.Udp("font-weight",300)("color",t.teamInfo.teamtextcolor),e.xp6(3),e.Q6J("ngForOf",t.teamPlayers)}}function se(a,r){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&a){const t=r.$implicit;e.xp6(1),e.hij(" ",t," ")}}function ce(a,r){if(1&a&&(e.TgZ(0,"div")(1,"div",5),e._uU(2,"Picks"),e.qZA(),e.YNc(3,se,2,1,"div",9),e.qZA()),2&a){const t=e.oxw();e.Udp("color",t.teamInfo.teamtextcolor)("font-weight",300),e.xp6(3),e.Q6J("ngForOf",t.teamPicks)}}let ie=(()=>{class a{getString(t){const l=t.split("/");return`assets/${l[l.length-1]}`}getPlayerPicture(t){return t?`https://cms.nhl.bamgrid.com/images/headshots/current/168x168/${t}@2x.jpg`:""}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cha-front-league-trades-team-card"]],inputs:{teamInfo:"teamInfo",teamPicks:"teamPicks",teamPlayers:"teamPlayers"},decls:9,vars:11,consts:[[1,"flex","align-items-center","column-gap-2","text-xl"],["size","xlarge","shape","square",3,"image"],[1,"league-trades-team-card-content"],[3,"fontWeight","color",4,"ngIf"],[3,"color","fontWeight",4,"ngIf"],[1,"p-2"],["class","flex align-items-center column-gap-2",3,"color",4,"ngFor","ngForOf"],[1,"flex","align-items-center","column-gap-2"],["size","large","shape","circle",3,"image"],[4,"ngFor","ngForOf"]],template:function(t,l){1&t&&(e.TgZ(0,"blade-card")(1,"blade-card-header")(2,"div",0),e._UZ(3,"p-avatar",1),e.TgZ(4,"div"),e._uU(5),e.qZA()()(),e.TgZ(6,"blade-card-body",2),e.YNc(7,oe,4,5,"div",3),e.YNc(8,ce,4,5,"div",4),e.qZA()()),2&t&&(e.Udp("background-color",l.teamInfo.teamcolor),e.xp6(2),e.Udp("font-weight",300),e.xp6(1),e.Q6J("image",l.getString(l.teamInfo.teamlogo)),e.xp6(1),e.Udp("color",l.teamInfo.teamtextcolor),e.xp6(1),e.AsE(" ",l.teamInfo.city," ",l.teamInfo.nickname," "),e.xp6(2),e.Q6J("ngIf",l.teamPlayers.length>0),e.xp6(1),e.Q6J("ngIf",l.teamPicks.length>0))},dependencies:[n.sg,n.O5,T.q,Y.A,D.y,H.n],styles:[".league-trades-team-card-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));grid-row-gap:10px;grid-column-gap:20px}"],changeDetection:0}),a})();var y;const le=function(){return{height:"6px"}};function de(a,r){1&a&&e._UZ(0,"p-progressBar",10),2&a&&e.Akn(e.DdM(2,le))}function ge(a,r){if(1&a&&(e.TgZ(0,"blade-card",12)(1,"blade-card-header"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"blade-card-body")(5,"div",13),e._UZ(6,"cha-front-league-trades-team-card",14)(7,"cha-front-league-trades-team-card",14),e.qZA()()()),2&a){const t=r.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,7,t.transactionDate)," "),e.xp6(4),e.Q6J("teamInfo",t.teamOneInfo)("teamPicks",t.teamOnePicks)("teamPlayers",t.teamOnePlayers),e.xp6(1),e.Q6J("teamInfo",t.teamTwoInfo)("teamPicks",t.teamTwoPicks)("teamPlayers",t.teamTwoPlayers)}}function pe(a,r){if(1&a&&(e.TgZ(0,"blade-card-body"),e.YNc(1,ge,8,9,"blade-card",11),e.qZA()),2&a){const t=r.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function me(a,r){if(1&a&&(e.TgZ(0,"blade-card"),e.YNc(1,pe,2,1,"blade-card-body",9),e.ALo(2,"async"),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.transactions$))}}function ue(a,r){1&a&&(e.ynx(0),e.TgZ(1,"div",15),e._uU(2," No Data To Display "),e.qZA(),e.BQk()),2&a&&(e.xp6(1),e.Udp("font-weight",100))}let w=((y=class{constructor(r,t){this.leagueTradesFacade=r,this.fb=t,this.link="https://docs.google.com/spreadsheets/d/1U792Obtd6ve99PSeHQVykHwfAlxZBW1VoVZ3FlA7gKw/",this.isLoaded$=this.leagueTradesFacade.isLoaded$,this.isLoading$=this.leagueTradesFacade.isLoading$,this.transactions$=this.leagueTradesFacade.transactions$}ngOnInit(){this.transactionsYear=this.fb.control(new Date("01/02/2023")),this.search=this.fb.control(""),this.transactionsYear.valueChanges.pipe((0,te.O)(this.transactionsYear.value),(0,P.t)(this)).subscribe(r=>{const t=new Date(r).getFullYear().toString().substring(2);this.leagueTradesFacade.getTransactions(t)}),this.search.valueChanges.pipe((0,P.t)(this)).subscribe(r=>{this.leagueTradesFacade.updateFilter(r)})}}).\u0275fac=function(r){return new(r||y)(e.Y36(I),e.Y36(g.qu))},y.\u0275cmp=e.Xpm({type:y,selectors:[["cha-front-league-trades"]],decls:22,vars:14,consts:[["mode","indeterminate",3,"style",4,"ngIf"],[1,"grid","justify-content-center","row-gap-2","pt-2"],[1,"text-lg","col-12","text-center",2,"font-weight","100"],[1,"flex","flex-wrap","column-gap-6","row-gap-2","col-12","justify-content-center"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Team / Player",3,"formControl"],["dateFormat","yy","view","year","inputId","yearpicker",3,"formControl"],["target","_blank",3,"href"],[4,"ngIf"],["mode","indeterminate"],["class","mb-3","style","background-color: var(--background-100)",4,"ngFor","ngForOf"],[1,"mb-3",2,"background-color","var(--background-100)"],[1,"league-trades-content"],[3,"teamInfo","teamPicks","teamPlayers"],[1,"p-6","text-xl","text-center"]],template:function(r,t){1&r&&(e.TgZ(0,"blade-layout-feature-content")(1,"div"),e.YNc(2,de,1,3,"p-progressBar",0),e.ALo(3,"async"),e.TgZ(4,"div",1)(5,"div",2),e._uU(6," CHA Trades "),e.qZA(),e.TgZ(7,"div",3)(8,"span",4),e._UZ(9,"i",5)(10,"input",6),e.qZA(),e._UZ(11,"p-calendar",7),e.qZA(),e.TgZ(12,"div")(13,"span"),e._uU(14,"For trades prior to 2021 season "),e.TgZ(15,"a",8),e._uU(16,"click here"),e.qZA()()()(),e._UZ(17,"blade-divider"),e.YNc(18,me,3,3,"blade-card",9),e.ALo(19,"async"),e.YNc(20,ue,3,2,"ng-container",9),e.ALo(21,"async"),e.qZA()()),2&r&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,8,t.isLoading$)),e.xp6(8),e.Q6J("formControl",t.search),e.xp6(1),e.Q6J("formControl",t.transactionsYear),e.xp6(1),e.Udp("font-weight",100),e.xp6(3),e.Q6J("href",t.link,e.LSH),e.xp6(3),e.Q6J("ngIf",e.lcZ(19,10,t.isLoaded$)),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(21,12,t.isLoaded$)))},dependencies:[n.sg,n.O5,g.Fj,g.JJ,g.oH,h.k,p.f,C.o,ne.R,Y.A,D.y,H.n,s.C,ie,n.Ov,n.uU],styles:[".league-trades-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));grid-row-gap:10px;grid-column-gap:20px}"],changeDetection:0}),y);w=(0,Q.gn)([(0,P.c)(),(0,Q.w6)("design:paramtypes",[I,g.qu])],w);const fe=[{path:"",component:w}];let he=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[M.Bz.forChild(fe),M.Bz]}),a})(),Te=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[$,I,J],imports:[n.ez,he,g.UX,h.q,p._8,T.F,C.j,_.E,A.N,s.C,c.Aw.forFeature("league-trades",z),f.sQ.forFeature([J])]}),a})()},8271:(U,v,o)=>{o.d(v,{F:()=>A,q:()=>_});var n=o(4650),g=o(6895);function f(s,d){if(1&s&&(n.TgZ(0,"span",4),n._uU(1),n.qZA()),2&s){const i=n.oxw();n.xp6(1),n.Oqu(i.label)}}function c(s,d){if(1&s&&n._UZ(0,"span",6),2&s){const i=n.oxw(2);n.Tol(i.icon),n.Q6J("ngClass","p-avatar-icon")}}function h(s,d){if(1&s&&n.YNc(0,c,1,3,"span",5),2&s){const i=n.oxw(),m=n.MAs(6);n.Q6J("ngIf",i.icon)("ngIfElse",m)}}function p(s,d){if(1&s){const i=n.EpF();n.TgZ(0,"img",8),n.NdJ("error",function(x){n.CHM(i);const F=n.oxw(2);return n.KtG(F.imageError(x))}),n.qZA()}if(2&s){const i=n.oxw(2);n.Q6J("src",i.image,n.LSH)}}function T(s,d){if(1&s&&n.YNc(0,p,1,1,"img",7),2&s){const i=n.oxw();n.Q6J("ngIf",i.image)}}const C=["*"];let _=(()=>{class s{constructor(){this.size="normal",this.shape="square",this.onImageError=new n.vpe}containerClass(){return{"p-avatar p-component":!0,"p-avatar-image":null!=this.image,"p-avatar-circle":"circle"===this.shape,"p-avatar-lg":"large"===this.size,"p-avatar-xl":"xlarge"===this.size}}imageError(i){this.onImageError.emit(i)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=n.Xpm({type:s,selectors:[["p-avatar"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",size:"size",shape:"shape",style:"style",styleClass:"styleClass"},outputs:{onImageError:"onImageError"},ngContentSelectors:C,decls:7,vars:6,consts:[[3,"ngClass","ngStyle"],["class","p-avatar-text",4,"ngIf","ngIfElse"],["iconTemplate",""],["imageTemplate",""],[1,"p-avatar-text"],[3,"class","ngClass",4,"ngIf","ngIfElse"],[3,"ngClass"],[3,"src","error",4,"ngIf"],[3,"src","error"]],template:function(i,m){if(1&i&&(n.F$t(),n.TgZ(0,"div",0),n.Hsn(1),n.YNc(2,f,2,1,"span",1),n.YNc(3,h,1,2,"ng-template",null,2,n.W1O),n.YNc(5,T,1,1,"ng-template",null,3,n.W1O),n.qZA()),2&i){const x=n.MAs(4);n.Tol(m.styleClass),n.Q6J("ngClass",m.containerClass())("ngStyle",m.style),n.xp6(2),n.Q6J("ngIf",m.label)("ngIfElse",x)}},dependencies:[g.mk,g.O5,g.PC],styles:[".p-avatar{display:inline-flex;align-items:center;justify-content:center;width:2rem;height:2rem;font-size:1rem}.p-avatar.p-avatar-image{background-color:transparent}.p-avatar.p-avatar-circle{border-radius:50%;overflow:hidden}.p-avatar .p-avatar-icon{font-size:1rem}.p-avatar img{width:100%;height:100%}\n"],encapsulation:2,changeDetection:0}),s})(),A=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[g.ez]}),s})()}}]);