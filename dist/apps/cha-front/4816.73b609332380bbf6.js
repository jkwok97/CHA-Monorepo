"use strict";(self.webpackChunkcha_front=self.webpackChunkcha_front||[]).push([[4816],{4816:(tt,u,n)=>{n.r(u),n.d(u,{ChaFrontDraftSummaryModule:()=>q});var l=n(177),s=n(9310),d=n(7339),S=n(8067),h=n(1398),k=n(6910),C=n(5336),y=n(1579),p=n(3331),D=n(3784);const m="[Draft Summary]",i={getDraftPicks:(0,s.VP)(`${m} Get Draft Picks`),getDraftPicksSuccess:(0,s.VP)(`${m} Get Draft Picks Success`,(0,s.xk)()),error:(0,s.VP)(`${m} Error`)},$={draftPicks:[],loading:!1,loaded:!1},L=(0,s.vy)($,(0,s.on)(i.getDraftPicks,a=>({...a,loading:!0,loaded:!1})),(0,s.on)(i.getDraftPicksSuccess,(a,o)=>({...a,draftPicks:o.draftPicks,loading:!1,loaded:!0})),(0,s.on)(i.error,a=>$));function x(a,o){return L(a,o)}const f=(0,s.UX)("draft-summary"),V=(0,s.Mz)(f,a=>a.draftPicks),b=(0,s.Mz)(f,a=>a.loading),g={selectDraftPicks:V,selectLoaded:(0,s.Mz)(f,a=>a.loaded),selectLoading:b};var t=n(4438);let P=(()=>{class a{constructor(r){this.store=r,this.isLoading$=this.store.select(g.selectLoading),this.isLoaded$=this.store.select(g.selectLoaded),this.draftPicks$=this.store.select(g.selectDraftPicks)}getDraftPicks(){this.store.dispatch(i.getDraftPicks())}static{this.\u0275fac=function(e){return new(e||a)(t.KVO(s.il))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac})}}return a})();var R=n(6918),j=n(3840),A=n(3066),N=n(6300);const X=()=>({"font-weight":"100"}),Y=()=>({height:"6px"});function B(a,o){1&a&&t.nrm(0,"p-progressBar",4),2&a&&t.Aen(t.lJ4(2,Y))}function H(a,o){if(1&a&&(t.qex(0),t.nrm(1,"blade-table",5),t.bVm()),2&a){const r=o.ngIf,e=t.XpG().ngIf,c=t.XpG(2);t.R7$(),t.Y8G("layout","stack")("data",c.mapItems(e))("tableColumns",c.tableColumns)("teams",r)("filteringOptions",c.filteringOptions)("tableType","draft-summary")("showPaginator",!0)("rows",24)}}function U(a,o){if(1&a&&(t.qex(0),t.DNE(1,H,2,8,"ng-container",3),t.nI1(2,"async"),t.bVm()),2&a){const r=t.XpG(2);t.R7$(),t.Y8G("ngIf",t.bMT(2,1,r.teams$))}}function z(a,o){if(1&a&&(t.qex(0),t.DNE(1,U,3,3,"ng-container",3),t.nI1(2,"async"),t.bVm()),2&a){const r=t.XpG();t.R7$(),t.Y8G("ngIf",t.bMT(2,1,r.draftPicks$))}}const K=[{path:"",component:(()=>{class a{constructor(r,e){this.draftSummaryFacade=r,this.leagueDataFacade=e,this.tableColumns=[{field:"draft_year",header:"Year"},{field:"orgTeam",header:"Team"},{field:"draft_round",header:"Round"},{field:"draft_overall",header:"Overall"},{field:"player",header:"Player"},{field:"team",header:"Picked By"}],this.filteringOptions=["draft_year","draft_round","draft_overall","player","team"],this.isLoaded$=this.draftSummaryFacade.isLoaded$,this.isLoading$=this.draftSummaryFacade.isLoading$,this.draftPicks$=this.draftSummaryFacade.draftPicks$,this.teams$=this.leagueDataFacade.leagueTeams$}ngOnInit(){this.draftSummaryFacade.getDraftPicks()}mapItems(r){return r.map(e=>({...e,team:`${e.team_id.city} ${e.team_id.nickname}`,player:`${e.player_id?.firstname} ${e.player_id?.lastname}`,playerImg:this.getPlayerPicture(e.player_id?.nhl_id),teamImg:this.getString(e.team_id.teamlogo),orgTeam:`${e.pick_team_id?e.pick_team_id.city:""} ${e.pick_team_id?e.pick_team_id.nickname:""}`,orgTeamImg:e.pick_team_id?this.getString(e.pick_team_id.teamlogo):""}))}getString(r){const e=r.split("/");return`assets/${e[e.length-1]}`}getPlayerPicture(r){if(r)return`https://assets.nhle.com/mugs/nhl/latest/${r}.png`}static{this.\u0275fac=function(e){return new(e||a)(t.rXU(P),t.rXU(D.A6))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["cha-front-draft-summary"]],decls:12,vars:9,consts:[["mode","indeterminate",3,"style",4,"ngIf"],[1,"grid","pt-2"],[1,"text-lg","text-center","col-12"],[4,"ngIf"],["mode","indeterminate"],[3,"layout","data","tableColumns","teams","filteringOptions","tableType","showPaginator","rows"]],template:function(e,c){1&e&&(t.j41(0,"blade-layout-feature-content")(1,"div"),t.DNE(2,B,1,3,"p-progressBar",0),t.nI1(3,"async"),t.j41(4,"div",1)(5,"div",2),t.EFF(6," CHA Draft Summary "),t.k0s()(),t.nrm(7,"blade-divider"),t.j41(8,"blade-card")(9,"blade-card-body"),t.DNE(10,z,3,3,"ng-container",3),t.nI1(11,"async"),t.k0s()()()()),2&e&&(t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,c.isLoading$)),t.R7$(3),t.Aen(t.lJ4(8,X)),t.R7$(5),t.Y8G("ngIf",t.bMT(11,6,c.isLoaded$)))},dependencies:[l.bT,y.z,R.N,h.l,j.i,A.q,N.e,l.Jj],encapsulation:2,changeDetection:0})}}return a})()}];let J=(()=>{class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[p.iI.forChild(K),p.iI]})}}return a})();var W=n(786),Q=n(6354),Z=n(9437),w=n(7673);let v=(()=>{class a{constructor(r,e){this.actions$=r,this.draftService=e,this.getDraftSummary$=(0,d.EH)(()=>this.actions$.pipe((0,d.gp)(i.getDraftPicks),(0,W.p)(c=>this.draftService.getDraftPicks().pipe((0,Q.T)(_=>i.getDraftPicksSuccess({draftPicks:_})),(0,Z.W)(()=>(0,w.of)(i.error()))))))}static{this.\u0275fac=function(e){return new(e||a)(t.KVO(d.En),t.KVO(D.LK))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac})}}return a})(),q=(()=>{class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({providers:[v,P],imports:[l.MD,J,y.d,S.F,h.l,C.N,k.H,s.md.forFeature("draft-summary",x),d.Vm.forFeature([v])]})}}return a})()}}]);