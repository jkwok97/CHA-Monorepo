"use strict";(self.webpackChunkcha_front=self.webpackChunkcha_front||[]).push([[6958],{6958:(nt,m,n)=>{n.r(m),n.d(m,{ChaFrontLeagueWaiversModule:()=>at});var d=n(177),l=n(7339),i=n(9310),p=n(1579),h=n(4980),T=n(8067),C=n(5336),f=n(1398),E=n(786),W=n(6354),b=n(9437),S=n(7673);const g="[LEAGUE WAIVERS]",c={getWaivers:(0,i.VP)(`${g} Get Waivers`),getWaiversSuccess:(0,i.VP)(`${g} Get Waivers Success`,(0,i.xk)()),error:(0,i.VP)(`${g} Error`)};var t=n(4438),M=n(1562);let y=(()=>{class e{constructor(s,a){this._http=s,this.apiUrl=a}getWaivers(){return this._http.get(`${this.apiUrl}/waivers/all`).pipe((0,W.T)(s=>s))}static{this.\u0275fac=function(a){return new(a||e)(t.KVO(M.Qq),t.KVO("apiUrl"))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$=(()=>{class e{constructor(s,a){this.actions$=s,this.leagueWaiversService=a,this.getWaivers$=(0,l.EH)(()=>this.actions$.pipe((0,l.gp)(c.getWaivers),(0,E.p)(o=>this.leagueWaiversService.getWaivers().pipe((0,W.T)(st=>c.getWaiversSuccess({waivers:st})),(0,b.W)(()=>(0,S.of)(c.error()))))))}static{this.\u0275fac=function(a){return new(a||e)(t.KVO(l.En),t.KVO(y))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})();const L={waivers:[],loading:!1,loaded:!1},D=(0,i.vy)(L,(0,i.on)(c.getWaivers,e=>({...e,loading:!0,loaded:!1})),(0,i.on)(c.getWaiversSuccess,(e,r)=>({...e,waivers:r.waivers,loading:!1,loaded:!0})),(0,i.on)(c.error,e=>L));function R(e,r){return D(e,r)}const v=(0,i.UX)("league-waivers"),U=(0,i.Mz)(v,e=>e.loading),u={selectLoaded:(0,i.Mz)(v,e=>e.loaded),selectLoading:U,selectWaivers:(0,i.Mz)(v,e=>e.waivers)};let F=(()=>{class e{constructor(s){this.store=s,this.isLoading$=this.store.select(u.selectLoading),this.isLoaded$=this.store.select(u.selectLoaded),this.waivers$=this.store.select(u.selectWaivers)}getWaivers(){this.store.dispatch(c.getWaivers())}static{this.\u0275fac=function(a){return new(a||e)(t.KVO(i.il))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})();var I=n(3331),B=n(3784),X=n(6918),Y=n(3840),K=n(3066),P=n(5779);function z(e,r){1&e&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Priority No."),t.k0s(),t.j41(3,"th"),t.EFF(4,"Team"),t.k0s()())}function H(e,r){if(1&e&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"div",4),t.nrm(5,"img",5),t.j41(6,"div"),t.EFF(7),t.k0s()()()()),2&e){const s=r.$implicit,a=t.XpG();t.R7$(2),t.JRh(s.priority_number),t.R7$(3),t.Y8G("src",a.getString(s.teamLogo),t.B4B),t.R7$(2),t.SpI(" ",s.teamName," ")}}let J=(()=>{class e{ngOnInit(){this.waiversForTable=this.mapItems(this.waivers)}mapItems(s){return s.map(a=>({...a,teamLogo:this.getString(a.teamInfo?.teamlogo?a.teamInfo.teamlogo:""),teamName:`${a.teamInfo?.city} ${a.teamInfo?.nickname}`})).sort((a,o)=>a.priority_number-o.priority_number)}getString(s){const a=s.split("/");return`assets/${a[a.length-1]}`}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["cha-front-league-waivers-table"]],inputs:{waivers:"waivers"},decls:4,vars:1,consts:[["dt",""],["dataKey","id","responsiveLayout","scroll","styleClass","p-datatable-sm p-datatable-striped w-max","sortField","waiver.priority_number",3,"value"],["pTemplate","header"],["pTemplate","body"],[1,"flex","align-items-center","column-gap-2"],["height","30px",3,"src"]],template:function(a,o){1&a&&(t.j41(0,"p-table",1,0),t.DNE(2,z,5,0,"ng-template",2)(3,H,8,3,"ng-template",3),t.k0s()),2&a&&t.Y8G("value",o.waiversForTable)},dependencies:[h.XI,P.Ei],changeDetection:0})}}return e})();const Q=()=>({height:"6px"});function Z(e,r){1&e&&t.nrm(0,"p-progressBar",3),2&e&&t.Aen(t.lJ4(2,Q))}function k(e,r){if(1&e&&(t.j41(0,"div",4)(1,"div",5),t.EFF(2),t.nI1(3,"async"),t.k0s()()),2&e){const s=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,1,s.season$)," Waiver Priority ")}}function q(e,r){if(1&e&&(t.qex(0),t.j41(1,"div",6),t.nrm(2,"cha-front-league-waivers-table",7),t.k0s(),t.bVm()),2&e){const s=r.ngIf;t.R7$(2),t.Y8G("waivers",s)}}function _(e,r){if(1&e&&(t.j41(0,"blade-card")(1,"blade-card-body"),t.DNE(2,q,3,1,"ng-container",2),t.nI1(3,"async"),t.k0s()()),2&e){const s=t.XpG();t.R7$(2),t.Y8G("ngIf",t.bMT(3,1,s.waivers$))}}const tt=[{path:"",component:(()=>{class e{constructor(s,a){this.leagueWaiversFacade=s,this.leagueDataFacade=a,this.isLoaded$=this.leagueWaiversFacade.isLoaded$,this.isLoading$=this.leagueWaiversFacade.isLoading$,this.season$=this.leagueDataFacade.currentSeason$,this.waivers$=this.leagueWaiversFacade.waivers$}ngOnInit(){this.leagueWaiversFacade.getWaivers()}static{this.\u0275fac=function(a){return new(a||e)(t.rXU(F),t.rXU(B.A6))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["cha-front-league-waivers"]],decls:9,vars:9,consts:[["mode","indeterminate",3,"style",4,"ngIf"],["class","pt-2",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],[1,"pt-2"],[1,"text-lg","text-center",2,"font-weight","100"],[1,"flex","justify-content-center"],[3,"waivers"]],template:function(a,o){1&a&&(t.j41(0,"blade-layout-feature-content")(1,"div"),t.DNE(2,Z,1,3,"p-progressBar",0),t.nI1(3,"async"),t.DNE(4,k,4,3,"div",1),t.nI1(5,"async"),t.nrm(6,"blade-divider"),t.DNE(7,_,4,3,"blade-card",2),t.nI1(8,"async"),t.k0s()()),2&a&&(t.R7$(2),t.Y8G("ngIf",t.bMT(3,3,o.isLoading$)),t.R7$(2),t.Y8G("ngIf",t.bMT(5,5,o.season$)),t.R7$(3),t.Y8G("ngIf",t.bMT(8,7,o.isLoaded$)))},dependencies:[d.bT,p.z,X.N,Y.i,K.q,f.l,J,d.Jj],encapsulation:2,changeDetection:0})}}return e})()}];let et=(()=>{class e{static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[I.iI.forChild(tt),I.iI]})}}return e})(),at=(()=>{class e{static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({providers:[y,F,$],imports:[d.MD,et,p.d,h.bG,T.F,C.N,f.l,i.md.forFeature("league-waivers",R),l.Vm.forFeature([$])]})}}return e})()}}]);