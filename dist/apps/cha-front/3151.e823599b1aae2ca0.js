"use strict";(self.webpackChunkcha_front=self.webpackChunkcha_front||[]).push([[3151],{3151:(we,y,i)=>{i.r(y),i.d(y,{ChaFrontGamesAllModule:()=>Oe});var p=i(177),d=i(7339),l=i(9310),_=i(1579),b=i(4980),x=i(1141),$=i(2242),v=i(5875),D=i(5336),k=i(8067),F=i(1398),A=i(3784),X=i(3993),C=i(786),h=i(6354),I=i(9437),B=i(7673);const m="[GAMES ALL]",c={getAll:(0,l.VP)(`${m} Get All`),getAllSuccess:(0,l.VP)(`${m} Get All Success`,(0,l.xk)()),getBoxScore:(0,l.VP)(`${m} Get Box Score`,(0,l.xk)()),getBoxScoreSuccess:(0,l.VP)(`${m} Get Box Score Success`,(0,l.xk)()),resetBoxScore:(0,l.VP)(`${m} Reset Box Score`),getBoxScoreError:(0,l.VP)(`${m} Get Box Score Error`),error:(0,l.VP)(`${m} Error`)};var e=i(4438),K=i(1562);let j=(()=>{class t{constructor(n,o,a){this._http=n,this.apiUrl=o,this.fileUrl=a}getSchedule(n){return this._http.get(`${this.apiUrl}/schedule/${n}`).pipe((0,h.T)(o=>o))}getBoxScore(n,o){return this._http.get(`${this.fileUrl}/${o}/${n}.txt`,{responseType:"text"}).pipe((0,h.T)(a=>a))}static{this.\u0275fac=function(o){return new(o||t)(e.KVO(K.Qq),e.KVO("apiUrl"),e.KVO("fileUrl"))}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),E=(()=>{class t{constructor(n,o,a){this.actions$=n,this.leagueDataFacade=o,this.gamesAllService=a,this.getSchedule$=(0,d.EH)(()=>this.actions$.pipe((0,d.gp)(c.getAll),(0,X.E)(this.leagueDataFacade.leagueData$),(0,C.p)(([r,S])=>this.gamesAllService.getSchedule(S.current_year).pipe((0,h.T)(Pe=>c.getAllSuccess({schedule:Pe})),(0,I.W)(()=>(0,B.of)(c.error())))))),this.getBoxScore$=(0,d.EH)(()=>this.actions$.pipe((0,d.gp)(c.getBoxScore),(0,C.p)(r=>this.gamesAllService.getBoxScore(r.gameId,r.playingYear).pipe((0,h.T)(S=>c.getBoxScoreSuccess({game:S})),(0,I.W)(()=>(0,B.of)(c.getBoxScoreError()))))))}static{this.\u0275fac=function(o){return new(o||t)(e.KVO(d.En),e.KVO(A.A6),e.KVO(j))}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac})}}return t})();const R={schedule:[],game:null,loading:!1,loaded:!1,gameLoading:!1},J=(0,l.vy)(R,(0,l.on)(c.getAll,t=>({...t,loading:!0,loaded:!1})),(0,l.on)(c.getAllSuccess,(t,s)=>({...t,schedule:s.schedule,loading:!1,loaded:!0})),(0,l.on)(c.getBoxScore,(t,s)=>({...t,gameLoading:!0})),(0,l.on)(c.getBoxScoreSuccess,(t,s)=>({...t,game:s.game,gameLoading:!1})),(0,l.on)(c.getBoxScoreError,(t,s)=>({...t,game:null,gameLoading:!1})),(0,l.on)(c.resetBoxScore,(t,s)=>({...t,game:null})),(0,l.on)(c.error,t=>R));function Q(t,s){return J(t,s)}const f=(0,l.UX)("games-all"),ne=(0,l.Mz)(f,t=>t.loading),oe=(0,l.Mz)(f,t=>t.loaded),M=(0,l.Mz)(f,t=>t.schedule),se=(0,l.Mz)(f,t=>t.game),ae=(0,l.Mz)(f,t=>t.gameLoading),g={selectLoaded:oe,selectLoading:ne,selectSchedule:M,selectBoxScore:se,selectSeason:(0,l.Mz)(M,t=>t[0]?.playing_year),selectGameLoading:ae};let u=(()=>{class t{constructor(n){this.store=n,this.isLoading$=this.store.select(g.selectLoading),this.isLoaded$=this.store.select(g.selectLoaded),this.schedule$=this.store.select(g.selectSchedule),this.season$=this.store.select(g.selectSeason),this.boxScore$=this.store.select(g.selectBoxScore),this.gameLoading$=this.store.select(g.selectGameLoading)}getSchedule(){this.store.dispatch(c.getAll())}getBoxScore(n,o){this.store.dispatch(c.getBoxScore({gameId:n,playingYear:o}))}resetBoxScore(){this.store.dispatch(c.resetBoxScore())}static{this.\u0275fac=function(o){return new(o||t)(e.KVO(l.il))}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac})}}return t})();var V=i(3331),le=i(3840),ce=i(3066),re=i(6918),me=i(1594),pe=i(5779),L=i(1635),N=i(5256);const de=()=>({height:"6px"});function ge(t,s){1&t&&e.nrm(0,"p-progressBar",2),2&t&&e.Aen(e.lJ4(2,de))}function fe(t,s){if(1&t&&(e.qex(0),e.DNE(1,ge,1,3,"p-progressBar",1),e.nI1(2,"async"),e.bVm()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",e.bMT(2,1,n.isLoading$))}}function ue(t,s){if(1&t&&(e.j41(0,"div")(1,"div",5),e.EFF(2),e.k0s()()),2&t){const n=e.XpG(3);e.R7$(2),e.SpI(" ",n.content," ")}}function he(t,s){1&t&&(e.j41(0,"div"),e.EFF(1,"Sorry, Box Score is not uploaded yet"),e.k0s())}function _e(t,s){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"button",4),e.bIt("click",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.onClose())}),e.k0s()(),e.DNE(3,ue,3,1,"div",0)(4,he,2,0,"div",0),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.Y8G("ngIf",n.content),e.R7$(),e.Y8G("ngIf",!n.content)}}function be(t,s){if(1&t&&(e.j41(0,"div",8)(1,"div",9),e.EFF(2,"Turn Phone To Side For Best View"),e.k0s(),e.EFF(3),e.k0s()),2&t){const n=e.XpG(3);e.R7$(3),e.SpI(" ",n.content," ")}}function xe(t,s){1&t&&(e.j41(0,"div"),e.EFF(1,"Sorry, Box Score is not uploaded yet"),e.k0s())}function Ge(t,s){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",6)(2,"button",4),e.bIt("click",function(){e.eBV(n);const a=e.XpG(2);return e.Njj(a.onClose())}),e.k0s()(),e.DNE(3,be,4,1,"div",7)(4,xe,2,0,"div",0),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(3),e.Y8G("ngIf",n.content),e.R7$(),e.Y8G("ngIf",!n.content)}}function Se(t,s){if(1&t&&(e.qex(0),e.DNE(1,_e,5,2,"ng-container",0)(2,Ge,5,2,"ng-container",0),e.bVm()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngIf",!n.isMobile),e.R7$(),e.Y8G("ngIf",n.isMobile)}}let G=class T{constructor(s){this.gamesAllFacade=s,this.closeSidebar=new e.bkB,this.isLoading$=this.gamesAllFacade.gameLoading$}ngOnInit(){this.gamesAllFacade.boxScore$.pipe((0,N.s)(this)).subscribe(s=>{s&&(this.content=s)})}onClose(){this.closeSidebar.emit(!0)}static{this.\u0275fac=function(n){return new(n||T)(e.rXU(u))}}static{this.\u0275cmp=e.VBU({type:T,selectors:[["cha-front-games-all-box-score"]],inputs:{isMobile:"isMobile"},outputs:{closeSidebar:"closeSidebar"},decls:4,vars:6,consts:[[4,"ngIf"],["mode","indeterminate",3,"style",4,"ngIf"],["mode","indeterminate"],[1,"flex","justify-content-center","pt-3"],["pButton","","pRipple","","type","button","label","Close",1,"p-button-raised",3,"click"],[1,"text-sm","boxscore","flex","justify-content-center"],[1,"flex","justify-content-center","pt-3","pb-3"],["class","text-xs boxscore-mobile",4,"ngIf"],[1,"text-xs","boxscore-mobile"],[1,"text-lg","text-center"]],template:function(n,o){1&n&&(e.DNE(0,fe,3,3,"ng-container",0),e.nI1(1,"async"),e.DNE(2,Se,3,2,"ng-container",0),e.nI1(3,"async")),2&n&&(e.Y8G("ngIf",e.bMT(1,2,o.isLoading$)),e.R7$(2),e.Y8G("ngIf",!1===e.bMT(3,4,o.isLoading$)))},dependencies:[p.bT,_.z,x._f,p.Jj],styles:[".boxscore[_ngcontent-%COMP%]{-webkit-user-select:text;background-color:transparent!important;color:#fff!important;display:block;font-family:Courier New,Courier,monospace,arial,sans-serif;margin:0;white-space:pre-wrap;word-wrap:break-word}.boxscore-mobile[_ngcontent-%COMP%]{-webkit-user-select:text;background-color:transparent!important;color:#fff!important;display:block;font-family:Courier New,Courier,monospace,arial,sans-serif;margin:0;white-space:pre-wrap;word-wrap:break-word;overflow-x:scroll}"],changeDetection:0})}};G=(0,L.Cg)([(0,N.d)(),(0,L.Sn)("design:paramtypes",[u])],G);const Te=["dt"],ye=()=>["homeTeamName","visTeamName","game_day"];function $e(t,s){if(1&t){const n=e.RV6();e.j41(0,"div",7)(1,"span",8),e.nrm(2,"i",9),e.j41(3,"input",10),e.bIt("input",function(a){e.eBV(n);const r=e.XpG();return e.Njj(r.applyFilterGlobal(a,"contains"))}),e.k0s()()()}}function ve(t,s){1&t&&(e.j41(0,"th"),e.EFF(1,"Score"),e.k0s())}function Fe(t,s){1&t&&(e.j41(0,"th"),e.EFF(1,"Score"),e.k0s())}function Ae(t,s){if(1&t&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Day"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Visitor"),e.k0s(),e.DNE(5,ve,2,0,"th",11),e.j41(6,"th"),e.EFF(7,"Versus"),e.k0s(),e.DNE(8,Fe,2,0,"th",11),e.j41(9,"th"),e.EFF(10,"Home"),e.k0s(),e.nrm(11,"th"),e.k0s()),2&t){const n=e.XpG();e.R7$(5),e.Y8G("ngIf",!n.isMobile),e.R7$(3),e.Y8G("ngIf",!n.isMobile)}}function Ce(t,s){if(1&t&&(e.j41(0,"tr")(1,"td",12)(2,"div",13),e.nrm(3,"button",14),e.j41(4,"span",15),e.EFF(5),e.k0s()()()()),2&t){const n=s.$implicit,o=s.expanded;e.R7$(3),e.Y8G("pRowToggler",n)("icon",o?"pi pi-chevron-down":"pi pi-chevron-right"),e.R7$(2),e.SpI("Game Day ",n.game_day,"")}}function Ie(t,s){if(1&t&&(e.j41(0,"span",15),e.EFF(1),e.k0s()),2&t){const n=e.XpG().$implicit;e.R7$(),e.JRh(n.visTeamName)}}function Be(t,s){if(1&t&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&t){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",n.vis_team_score," ")}}function je(t,s){if(1&t&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&t){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",n.home_team_score," ")}}function Ee(t,s){if(1&t&&(e.j41(0,"span",15),e.EFF(1),e.k0s()),2&t){const n=e.XpG().$implicit;e.R7$(),e.JRh(n.homeTeamName)}}function Re(t,s){if(1&t){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"div",16),e.nrm(5,"img",17),e.DNE(6,Ie,2,1,"span",18),e.k0s()(),e.DNE(7,Be,2,1,"td",11),e.j41(8,"td"),e.EFF(9,"@"),e.k0s(),e.DNE(10,je,2,1,"td",11),e.j41(11,"td")(12,"div",16),e.nrm(13,"img",17),e.DNE(14,Ee,2,1,"span",18),e.k0s()(),e.j41(15,"td")(16,"button",19),e.bIt("click",function(){const a=e.eBV(n).$implicit,r=e.XpG();return e.Njj(r.onClick(a))}),e.k0s()()()}if(2&t){const n=s.$implicit,o=e.XpG();e.R7$(2),e.SpI(" ",n.game_day," "),e.R7$(3),e.Y8G("src",n.visTeamLogo,e.B4B),e.R7$(),e.Y8G("ngIf",!o.isMobile),e.R7$(),e.Y8G("ngIf",!o.isMobile),e.R7$(3),e.Y8G("ngIf",!o.isMobile),e.R7$(3),e.Y8G("src",n.homeTeamLogo,e.B4B),e.R7$(),e.Y8G("ngIf",!o.isMobile)}}function Me(t,s){if(1&t){const n=e.RV6();e.j41(0,"p-sidebar",20),e.mxI("visibleChange",function(a){e.eBV(n);const r=e.XpG();return e.DH7(r.display,a)||(r.display=a),e.Njj(a)}),e.bIt("onHide",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.onClose())}),e.j41(1,"cha-front-games-all-box-score",21),e.bIt("closeSidebar",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.onClose())}),e.k0s()()}if(2&t){const n=e.XpG();e.R50("visible",n.display),e.Y8G("fullScreen",!0)("dismissible",!1)("showCloseIcon",!1),e.R7$(),e.Y8G("isMobile",n.isMobile)}}let Ve=(()=>{class t{constructor(n,o){this.displayFacade=n,this.gamesAllFacade=o,this.isMobile=!1,this.display=!1,this.displayFacade.isMobile$.pipe((0,me.$)()).subscribe(a=>{this.isMobile=a})}ngOnInit(){this.gamesForTable=this.mapItems(this.schedule)}mapItems(n){return n.map(o=>({...o,homeTeamLogo:this.getString(o.homeTeamInfo.teamlogo),homeTeamName:`${o.homeTeamInfo.city} ${o.homeTeamInfo.nickname}`,visTeamLogo:this.getString(o.visTeamInfo.teamlogo),visTeamName:`${o.visTeamInfo.city} ${o.visTeamInfo.nickname}`}))}getString(n){const o=n.split("/");return`assets/${o[o.length-1]}`}applyFilterGlobal(n,o){this.dt?.filterGlobal(n.target.value,o)}onClick(n){this.gamesAllFacade.getBoxScore(n.id,n.playing_year),this.display=!0}onClose(){this.gamesAllFacade.resetBoxScore(),this.display=!1}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(A.Pu),e.rXU(u))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["cha-front-games-all-table"]],viewQuery:function(o,a){if(1&o&&e.GBs(Te,5),2&o){let r;e.mGM(r=e.lsd())&&(a.dt=r.first)}},inputs:{schedule:"schedule"},decls:7,vars:5,consts:[["dt",""],["sortField","game_day","sortMode","single","dataKey","game_day","rowGroupMode","subheader","groupRowsBy","game_day","responsiveLayout","scroll","styleClass","p-datatable-sm p-datatable-striped",3,"value","filterDelay","globalFilterFields"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","groupheader"],["pTemplate","rowexpansion"],["appendTo","body",3,"visible","fullScreen","dismissible","showCloseIcon","visibleChange","onHide",4,"ngIf"],[1,"flex"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search Team / Day",3,"input"],[4,"ngIf"],["colspan","12"],[1,"grid","align-items-center"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain","mr-2",3,"pRowToggler","icon"],[1,"ml-2"],[1,"flex","align-items-center"],["height","30px",3,"src"],["class","ml-2",4,"ngIf"],["pButton","","type","button","icon","pi pi-file",1,"p-button-rounded","p-button-primary",3,"click"],["appendTo","body",3,"visibleChange","onHide","visible","fullScreen","dismissible","showCloseIcon"],[3,"closeSidebar","isMobile"]],template:function(o,a){1&o&&(e.j41(0,"p-table",1,0),e.DNE(2,$e,4,0,"ng-template",2)(3,Ae,12,2,"ng-template",3)(4,Ce,6,3,"ng-template",4)(5,Re,17,7,"ng-template",5),e.k0s(),e.DNE(6,Me,2,5,"p-sidebar",6)),2&o&&(e.Y8G("value",a.gamesForTable)("filterDelay",0)("globalFilterFields",e.lJ4(4,ye)),e.R7$(6),e.Y8G("ngIf",a.display))},dependencies:[p.bT,b.XI,pe.Ei,b.FP,x._f,$.S,v.B,G],encapsulation:2,changeDetection:0})}}return t})();const Le=()=>({height:"6px"});function Ne(t,s){if(1&t&&(e.j41(0,"div",3)(1,"div",4),e.EFF(2),e.nI1(3,"async"),e.k0s()()),2&t){const n=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,1,n.season$)," Season ")}}function De(t,s){1&t&&e.nrm(0,"p-progressBar",5),2&t&&e.Aen(e.lJ4(2,Le))}function ke(t,s){if(1&t&&(e.qex(0),e.nrm(1,"cha-front-games-all-table",6),e.bVm()),2&t){const n=s.ngIf;e.R7$(),e.Y8G("schedule",n)}}function Xe(t,s){if(1&t&&(e.j41(0,"blade-card")(1,"blade-card-body"),e.DNE(2,ke,2,1,"ng-container",2),e.nI1(3,"async"),e.k0s()()),2&t){const n=e.XpG();e.R7$(2),e.Y8G("ngIf",e.bMT(3,1,n.schedule$))}}const Ye=[{path:"",component:(()=>{class t{constructor(n){this.gamesAllFacade=n,this.isLoaded$=this.gamesAllFacade.isLoaded$,this.isLoading$=this.gamesAllFacade.isLoading$,this.season$=this.gamesAllFacade.season$,this.schedule$=this.gamesAllFacade.schedule$}ngOnInit(){this.gamesAllFacade.getSchedule()}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(u))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["cha-front-games-all"]],decls:9,vars:9,consts:[["class","pt-2",4,"ngIf"],["mode","indeterminate",3,"style",4,"ngIf"],[4,"ngIf"],[1,"pt-2"],[1,"text-lg","text-center",2,"font-weight","100"],["mode","indeterminate"],[3,"schedule"]],template:function(o,a){1&o&&(e.j41(0,"blade-layout-feature-content")(1,"div"),e.DNE(2,Ne,4,3,"div",0),e.nI1(3,"async"),e.nrm(4,"blade-divider"),e.DNE(5,De,1,3,"p-progressBar",1),e.nI1(6,"async"),e.DNE(7,Xe,4,3,"blade-card",2),e.nI1(8,"async"),e.k0s()()),2&o&&(e.R7$(2),e.Y8G("ngIf",e.bMT(3,3,a.season$)),e.R7$(3),e.Y8G("ngIf",e.bMT(6,5,a.isLoading$)),e.R7$(2),e.Y8G("ngIf",e.bMT(8,7,a.isLoaded$)))},dependencies:[p.bT,_.z,le.i,ce.q,re.N,F.l,Ve,p.Jj],changeDetection:0})}}return t})()}];let Ue=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[V.iI.forChild(Ye),V.iI]})}}return t})(),Oe=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({providers:[j,u,E],imports:[p.MD,Ue,_.d,b.bG,x.tm,$.u,v.n,D.N,k.F,F.l,l.md.forFeature("games-all",Q),d.Vm.forFeature([E])]})}}return t})()}}]);